!function(r){"use strict";function n(r,n,a){return a.a=r,a.f=n,a}function v(a){return n(2,a,function(n){return function(r){return a(n,r)}})}function l(e){return n(3,e,function(a){return function(n){return function(r){return e(a,n,r)}}})}function b(t){return n(4,t,function(e){return function(a){return function(n){return function(r){return t(e,a,n,r)}}}})}function a(u){return n(5,u,function(t){return function(e){return function(a){return function(n){return function(r){return u(t,e,a,n,r)}}}}})}function e(c){return n(6,c,function(u){return function(t){return function(e){return function(a){return function(n){return function(r){return c(u,t,e,a,n,r)}}}}}})}function t(i){return n(7,i,function(c){return function(u){return function(t){return function(e){return function(a){return function(n){return function(r){return i(c,u,t,e,a,n,r)}}}}}}})}function u(o){return n(8,o,function(i){return function(c){return function(u){return function(t){return function(e){return function(a){return function(n){return function(r){return o(i,c,u,t,e,a,n,r)}}}}}}}})}function c(f){return n(9,f,function(o){return function(i){return function(c){return function(u){return function(t){return function(e){return function(a){return function(n){return function(r){return f(o,i,c,u,t,e,a,n,r)}}}}}}}}})}function Kr(r,n,a){return 2===r.a?r.f(n,a):r(n)(a)}function Qr(r,n,a,e){return 3===r.a?r.f(n,a,e):r(n)(a)(e)}function Zr(r,n,a,e,t){return 4===r.a?r.f(n,a,e,t):r(n)(a)(e)(t)}function rn(r,n,a,e,t,u){return 5===r.a?r.f(n,a,e,t,u):r(n)(a)(e)(t)(u)}function $(r,n,a,e,t,u,c){return 6===r.a?r.f(n,a,e,t,u,c):r(n)(a)(e)(t)(u)(c)}function nn(r,n,a,e,t,u,c,i){return 7===r.a?r.f(n,a,e,t,u,c,i):r(n)(a)(e)(t)(u)(c)(i)}function h(r,n,a,e,t,u,c,i,o){return 8===r.a?r.f(n,a,e,t,u,c,i,o):r(n)(a)(e)(t)(u)(c)(i)(o)}function x(r,n,a,e,t,u,c,i,o,f){return 9===r.a?r.f(n,a,e,t,u,c,i,o,f):r(n)(a)(e)(t)(u)(c)(i)(o)(f)}var i=l(function(r,n,a){for(var e=Array(r),t=0;t<r;t++)e[t]=a(n+t);return e}),o=v(function(r,n){for(var a=Array(r),e=0;e<r&&n.b;e++)a[e]=n.a,n=n.b;return a.length=e,{a:a,b:n}}),f=v(function(r,n){return n[r]}),s=l(function(r,n,a){for(var e=a.length,t=Array(e),u=0;u<e;u++)t[u]=a[u];return t[r]=n,t}),d=v(function(r,n){for(var a=n.length,e=Array(a+1),t=0;t<a;t++)e[t]=n[t];return e[a]=r,e}),p=l(function(r,n,a){for(var e=a.length,t=0;t<e;t++)n=Kr(r,a[t],n);return n}),g=l(function(r,n,a){for(var e=a.length-1;0<=e;e--)n=Kr(r,a[e],n);return n}),m=l(function(r,n,a){for(var e=a.length,t=Array(e),u=0;u<e;u++)t[u]=Kr(r,n+u,a[u]);return t}),y=l(function(r,n,a){return a.slice(r,n)}),w=l(function(r,n,a){var e=n.length,t=r-e;a.length<t&&(t=a.length);for(var u=Array(e+t),c=0;c<e;c++)u[c]=n[c];for(c=0;c<t;c++)u[c+e]=a[c];return u});function k(r){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+r+".md")}function an(r,n){for(var a,e=[],t=P(r,n,0,e);t&&(a=e.pop());t=P(a.a,a.b,0,e));return t}function P(r,n,a,e){if(r===n)return!0;if("object"!=typeof r||null===r||null===n)return"function"==typeof r&&k(5),!1;if(100<a)return e.push({a:r,b:n}),!0;for(var t in r.$<0&&(r=Ga(r),n=Ga(n)),r)if(!P(r[t],n[t],a+1,e))return!1;return!0}function C(r,n,a){if("object"!=typeof r)return r===n?0:r<n?-1:1;if(void 0===r.$)return(a=C(r.a,n.a))||(a=C(r.b,n.b))?a:C(r.c,n.c);for(;r.b&&n.b&&!(a=C(r.a,n.a));r=r.b,n=n.b);return a||(r.b?1:n.b?-1:0)}var D=v(function(r,n){var a=C(r,n);return a<0?Ra:a?xa:Ta}),G=0;function en(r,n){var a,e={};for(a in r)e[a]=r[a];for(a in n)e[a]=n[a];return e}var T=v(R);function R(r,n){if("string"==typeof r)return r+n;if(!r.b)return n;var a={$:1,a:r.a,b:n};r=r.b;for(var e=a;r.b;r=r.b)e=e.b={$:1,a:r.a,b:n};return a}var tn={$:0};function j(r,n){return{$:1,a:r,b:n}}var A=v(j);function un(r){for(var n=tn,a=r.length;a--;)n={$:1,a:r[a],b:n};return n}function S(r){for(var n=[];r.b;r=r.b)n.push(r.a);return n}var E=l(function(r,n,a){for(var e=[];n.b&&a.b;n=n.b,a=a.b)e.push(Kr(r,n.a,a.a));return un(e)}),Y=v(function(a,r){return un(S(r).sort(function(r,n){return C(a(r),a(n))}))}),B=v(function(e,r){return un(S(r).sort(function(r,n){var a=Kr(e,r,n);return a===Ta?0:a===Ra?-1:1}))}),_=v(Math.pow),L=v(function(r,n){var a=n%r;return 0===r?k(11):0<a&&r<0||a<0&&0<r?a+r:a});var O=Math.ceil,H=Math.floor,I=Math.log;var J=v(function(r,n){return r+n});var M=v(function(r,n){return r+n});var W=l(function(r,n,a){for(var e=a.length;e--;){var t=a[e],u=a.charCodeAt(e);u<56320||57343<u||(t=a[--e]+t),n=Kr(r,t,n)}return n}),U=v(function(r,n){return n.split(r)}),F=v(function(r,n){return n.join(r)}),N=l(function(r,n,a){return a.slice(r,n)});var z=v(function(r,n){for(var a=n.length;a--;){var e=n[a],t=n.charCodeAt(a);if(t<56320||57343<t||(e=n[--a]+e),!r(e))return!1}return!0}),X=v(function(r,n){return 0==n.indexOf(r)});function q(r){return r+""}var V={$:2,b:function(r){return"number"!=typeof r||(r<=-2147483647||2147483647<=r||(0|r)!==r)&&(!isFinite(r)||r%1)?gr("an INT",r):Ya(r)}},K={$:2,b:function(r){return"boolean"==typeof r?Ya(r):gr("a BOOL",r)}},Q={$:2,b:function(r){return"number"==typeof r?Ya(r):gr("a FLOAT",r)}},Z={$:2,b:function(r){return Ya(r)}},rr={$:2,b:function(r){return"string"==typeof r?Ya(r):r instanceof String?Ya(r+""):gr("a STRING",r)}};var nr=v(function(r,n){return{$:6,d:r,b:n}}),ar=v(function(r,n){return{$:7,e:r,b:n}});var er=v(function(r,n){return{$:10,b:n,h:r}});var tr=v(function(r,n){return{$:9,f:r,g:[n]}}),ur=l(function(r,n,a){return{$:9,f:r,g:[n,a]}}),cr=b(function(r,n,a,e){return{$:9,f:r,g:[n,a,e]}}),ir=a(function(r,n,a,e,t){return{$:9,f:r,g:[n,a,e,t]}}),or=e(function(r,n,a,e,t,u){return{$:9,f:r,g:[n,a,e,t,u]}}),fr=t(function(r,n,a,e,t,u,c){return{$:9,f:r,g:[n,a,e,t,u,c]}}),br=u(function(r,n,a,e,t,u,c,i){return{$:9,f:r,g:[n,a,e,t,u,c,i]}}),sr=c(function(r,n,a,e,t,u,c,i,o){return{$:9,f:r,g:[n,a,e,t,u,c,i,o]}}),lr=v(function(r,n){try{return vr(r,JSON.parse(n))}catch(r){return ja(Kr(Aa,"This is not valid JSON! "+r.message,n))}}),dr=v(vr);function vr(r,n){switch(r.$){case 2:return r.b(n);case 5:return null===n?Ya(r.c):gr("null",n);case 3:return hr(n)?$r(r.b,n,un):gr("a LIST",n);case 4:return hr(n)?$r(r.b,n,pr):gr("an ARRAY",n);case 6:var a=r.d;if("object"!=typeof n||null===n||!(a in n))return gr("an OBJECT with a field named `"+a+"`",n);var e=vr(r.b,n[a]);return he(e)?e:ja(Kr(Sa,a,e.a));case 7:var t=r.e;if(!hr(n))return gr("an ARRAY",n);if(n.length<=t)return gr("a LONGER array. Need index "+t+" but only see "+n.length+" entries",n);e=vr(r.b,n[t]);return he(e)?e:ja(Kr(Ea,t,e.a));case 8:if("object"!=typeof n||null===n||hr(n))return gr("an OBJECT",n);var u,c=tn;for(u in n)if(n.hasOwnProperty(u)){e=vr(r.b,n[u]);if(!he(e))return ja(Kr(Sa,u,e.a));c={$:1,a:{a:u,b:e.a},b:c}}return Ya(Xa(c));case 9:for(var i=r.f,o=r.g,f=0;f<o.length;f++){e=vr(o[f],n);if(!he(e))return e;i=i(e.a)}return Ya(i);case 10:e=vr(r.b,n);return he(e)?vr(r.h(e.a),n):e;case 11:for(var b=tn,s=r.g;s.b;s=s.b){e=vr(s.a,n);if(he(e))return e;b={$:1,a:e.a,b:b}}return ja(Ba(Xa(b)));case 1:return ja(Kr(Aa,r.a,n));case 0:return Ya(r.a)}}function $r(r,n,a){for(var e=n.length,t=Array(e),u=0;u<e;u++){var c=vr(r,n[u]);if(!he(c))return ja(Kr(Ea,u,c.a));t[u]=c.a}return Ya(a(t))}function hr(r){return Array.isArray(r)||"undefined"!=typeof FileList&&r instanceof FileList}function pr(n){return Kr($e,n.length,function(r){return n[r]})}function gr(r,n){return ja(Kr(Aa,"Expecting "+r,n))}function mr(r,n){if(r===n)return!0;if(r.$!==n.$)return!1;switch(r.$){case 0:case 1:return r.a===n.a;case 2:return r.b===n.b;case 5:return r.c===n.c;case 3:case 4:case 8:return mr(r.b,n.b);case 6:return r.d===n.d&&mr(r.b,n.b);case 7:return r.e===n.e&&mr(r.b,n.b);case 9:return r.f===n.f&&yr(r.g,n.g);case 10:return r.h===n.h&&mr(r.b,n.b);case 11:return yr(r.g,n.g)}}function yr(r,n){var a=r.length;if(a!==n.length)return!1;for(var e=0;e<a;e++)if(!mr(r[e],n[e]))return!1;return!0}var wr=v(function(r,n){return JSON.stringify(n,null,r)+""});function kr(r){return r}var Pr=l(function(r,n,a){return a[r]=n,a});var Cr=null;function Dr(r){return{$:0,a:r}}var Gr=v(function(r,n){return{$:3,b:r,d:n}}),Tr=v(function(r,n){return{$:4,b:r,d:n}});var xr=0;function Rr(r){var n={$:0,e:xr++,f:r,g:null,h:[]};return Br(n),n}function jr(n){return{$:2,b:function(r){r({$:0,a:Rr(n)})},c:null}}function Ar(r,n){r.h.push(n),Br(r)}var Sr=v(function(n,a){return{$:2,b:function(r){Ar(n,a),r({$:0,a:G})},c:null}});var Er=!1,Yr=[];function Br(r){if(Yr.push(r),!Er){for(Er=!0;r=Yr.shift();)!function(n){for(;n.f;){var r=n.f.$;if(0===r||1===r){for(;n.g&&n.g.$!==r;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===r)return n.f.c=n.f.b(function(r){n.f=r,Br(n)});if(5===r){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===r?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}(r);Er=!1}}function _r(a){return{$:2,b:function(r){var n=setTimeout(function(){r({$:0,a:G})},a);return function(){clearTimeout(n)}},c:null}}function Lr(r,n,a,e,t,u){var c=Kr(dr,r,n?n.flags:void 0);he(c)||k(2);var i={},o=a(c.a),f=o.a,b=u(l,f),s=function(r,n){var a,e;for(e in Or){var t=Or[e];t.a&&((a=a||{})[e]=t.a(e,n)),r[e]=function(r,n){var e={g:n,h:void 0},t=r.c,u=r.d,c=r.e,i=r.f;function o(a){return Kr(Gr,o,{$:5,b:function(r){var n=r.a;return 0===r.$?Qr(u,e,n,a):c&&i?Zr(t,e,n.i,n.j,a):Qr(t,e,c?n.i:n.j,a)}})}return e.h=Rr(Kr(Gr,o,r.b))}(t,n)}return a}(i,l);function l(r,n){var a=Kr(e,r,f);b(f=a.a,n),Nr(i,a.b,t(f))}return Nr(i,o.b,t(f)),s?{ports:s}:{}}var Or={};var Hr=v(function(n,a){return{$:2,b:function(r){n.g(a),r({$:0,a:G})},c:null}}),Ir=v(function(r,n){return Kr(Sr,r.h,{$:0,a:n})});function Jr(n){return function(r){return{$:1,k:n,l:r}}}function Mr(r){return{$:2,m:r}}var Wr=v(function(r,n){return{$:3,n:r,o:n}}),Ur=[],Fr=!1;function Nr(r,n,a){if(Ur.push({p:r,q:n,r:a}),!Fr){Fr=!0;for(var e;e=Ur.shift();)!function(r,n,a){var e,t={};for(e in zr(!0,n,t,null),zr(!1,a,t,null),r)Ar(r[e],{$:"fx",a:t[e]||{i:tn,j:tn}})}(e.p,e.q,e.r);Fr=!1}}function zr(r,n,a,e){switch(n.$){case 1:var t=n.k,u=function(r,n,a,e){function t(r){for(var n=a;n;n=n.t)r=n.s(r);return r}return Kr(r?Or[n].e:Or[n].f,t,e)}(r,t,e,n.l);return void(a[t]=function(r,n,a){return a=a||{i:tn,j:tn},r?a.i={$:1,a:n,b:a.i}:a.j={$:1,a:n,b:a.j},a}(r,u,a[t]));case 2:for(var c=n.m;c.b;c=c.b)zr(r,c.a,a,e);return;case 3:return void zr(r,n.o,a,{s:n.n,t:e})}}function Xr(r){Or[r]&&k(3)}function qr(r,n){return Xr(r),Or[r]={e:Vr,u:n,a:cn},Jr(r)}var Vr=v(function(r,n){return n});function cn(r){var u=[],c=Or[r].u,i=_r(0);return Or[r].b=i,Or[r].c=l(function(r,n){for(;n.b;n=n.b)for(var a=u,e=c(n.a),t=0;t<a.length;t++)a[t](e);return i}),{subscribe:function(r){u.push(r)},unsubscribe:function(r){var n=(u=u.slice()).indexOf(r);n<0||u.splice(n,1)}}}function on(r,n){return Xr(r),Or[r]={f:bn,u:n,a:sn},Jr(r)}var fn,bn=v(function(n,a){return function(r){return n(a(r))}});function sn(r,t){var u=tn,c=Or[r].u,a={$:0,a:null};return Or[r].b=a,Or[r].c=l(function(r,n){return u=n,a}),{send:function(r){var n=Kr(dr,c,r);he(n)||k(4);for(var a=n.a,e=u;e.b;e=e.b)t(e.a(a))}}}var ln="undefined"!=typeof document?document:{};function dn(r){return{$:0,a:r}}var vn=v(function(u,c){return v(function(r,n){for(var a=[],e=0;n.b;n=n.b){var t=n.a;e+=t.b||0,a.push(t)}return e+=a.length,{$:1,c:c,d:An(r),e:a,f:u,b:e}})}),$n=vn(void 0),hn=v(function(u,c){return v(function(r,n){for(var a=[],e=0;n.b;n=n.b){var t=n.a;e+=t.b.b||0,a.push(t)}return e+=a.length,{$:2,c:c,d:An(r),e:a,f:u,b:e}})}),pn=hn(void 0);function gn(r,n){return{$:5,l:r,m:n,k:void 0}}var mn=v(function(r,n){return gn([r,n],function(){return r(n)})}),yn=b(function(r,n,a,e){return gn([r,n,a,e],function(){return Qr(r,n,a,e)})}),wn=e(function(r,n,a,e,t,u){return gn([r,n,a,e,t,u],function(){return rn(r,n,a,e,t,u)})}),kn=t(function(r,n,a,e,t,u,c){return gn([r,n,a,e,t,u,c],function(){return $(r,n,a,e,t,u,c)})}),Pn=c(function(r,n,a,e,t,u,c,i,o){return gn([r,n,a,e,t,u,c,i,o],function(){return h(r,n,a,e,t,u,c,i,o)})}),Cn=v(function(r,n){return{$:"a0",n:r,o:n}}),Dn=v(function(r,n){return{$:"a1",n:r,o:n}}),Gn=v(function(r,n){return{$:"a2",n:r,o:n}}),Tn=v(function(r,n){return{$:"a3",n:r,o:n}});function xn(r){return"script"==r?"p":r}function Rn(r){return/^\s*(javascript:|data:text\/html)/i.test(r)?"":r}var jn;function An(r){for(var n={};r.b;r=r.b){var a,e=r.a,t=e.$,u=e.n,c=e.o;"a2"!==t?(a=n[t]||(n[t]={}),"a3"===t&&"class"===u?Sn(a,u,c):a[u]=c):"className"===u?Sn(n,u,c):n[u]=c}return n}function Sn(r,n,a){var e=r[n];r[n]=e?e+" "+a:a}function En(r,n){var a=r.$;if(5===a)return En(r.k||(r.k=r.m()),n);if(0===a)return ln.createTextNode(r.a);if(4===a){for(var e=r.k,t=r.j;4===e.$;)"object"!=typeof t?t=[t,e.j]:t.push(e.j),e=e.k;var u={j:t,p:n};return(c=En(e,u)).elm_event_node_ref=u,c}if(3===a)return Yn(c=r.h(r.g),n,r.d),c;var c=r.f?ln.createElementNS(r.f,r.c):ln.createElement(r.c);fn&&"a"==r.c&&c.addEventListener("click",fn(c)),Yn(c,n,r.d);for(var i=r.e,o=0;o<i.length;o++)c.appendChild(En(1===a?i[o]:i[o].b,n));return c}function Yn(r,n,a){for(var e in a){var t=a[e];"a1"===e?function(r,n){var a,e=r.style;for(a in n)e[a]=n[a]}(r,t):"a0"===e?function(r,n,a){var e,t=r.elmFs||(r.elmFs={});for(e in a){var u=a[e],c=t[e];if(u){if(c){if(c.q.$===u.$){c.q=u;continue}r.removeEventListener(e,c)}c=function(b,r){function s(r){var n=s.q,a=vr(n.a,r);if(he(a)){for(var e,t=we(n),u=a.a,c=t?t<3?u.a:u.c5:u,i=1==t?u.b:3==t&&u.dG,o=(i&&r.stopPropagation(),(2==t?u.b:3==t&&u.dw)&&r.preventDefault(),b);e=o.j;){if("function"==typeof e)c=e(c);else for(var f=e.length;f--;)c=e[f](c);o=o.p}o(c,i)}}return s.q=r,s}(n,u),r.addEventListener(e,c,jn&&{passive:we(u)<2}),t[e]=c}else r.removeEventListener(e,c),t[e]=void 0}}(r,n,t):"a3"===e?function(r,n){for(var a in n){var e=n[a];void 0!==e?r.setAttribute(a,e):r.removeAttribute(a)}}(r,t):"a4"===e?function(r,n){for(var a in n){var e=n[a],t=e.f,u=e.o;void 0!==u?r.setAttributeNS(t,a,u):r.removeAttributeNS(t,a)}}(r,t):("value"!==e&&"checked"!==e||r[e]!==t)&&(r[e]=t)}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){jn=!0}}))}catch(r){}function Bn(r,n){var a=[];return Ln(r,n,a,0),a}function _n(r,n,a,e){var t={$:n,r:a,s:e,t:void 0,u:void 0};return r.push(t),t}function Ln(r,n,a,e){if(r!==n){var t=r.$,u=n.$;if(t!==u){if(1!==t||2!==u)return void _n(a,0,e,n);n=function(r){for(var n=r.e,a=n.length,e=Array(a),t=0;t<a;t++)e[t]=n[t].b;return{$:1,c:r.c,d:r.d,e:e,f:r.f,b:r.b}}(n),u=1}switch(u){case 5:for(var c=r.l,i=n.l,o=c.length,f=o===i.length;f&&o--;)f=c[o]===i[o];if(f)return void(n.k=r.k);n.k=n.m();var b=[];return Ln(r.k,n.k,b,0),void(0<b.length&&_n(a,1,e,b));case 4:for(var s=r.j,l=n.j,d=!1,v=r.k;4===v.$;)d=!0,"object"!=typeof s?s=[s,v.j]:s.push(v.j),v=v.k;for(var $=n.k;4===$.$;)d=!0,"object"!=typeof l?l=[l,$.j]:l.push($.j),$=$.k;return d&&s.length!==l.length?void _n(a,0,e,n):((d?function(r,n){for(var a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}(s,l):s===l)||_n(a,2,e,l),void Ln(v,$,a,e+1));case 0:return void(r.a!==n.a&&_n(a,3,e,n.a));case 1:return void On(r,n,a,e,In);case 2:return void On(r,n,a,e,Jn);case 3:if(r.h!==n.h)return void _n(a,0,e,n);var h=Hn(r.d,n.d);h&&_n(a,4,e,h);var p=n.i(r.g,n.g);return void(p&&_n(a,5,e,p))}}}function On(r,n,a,e,t){var u;r.c===n.c&&r.f===n.f?((u=Hn(r.d,n.d))&&_n(a,4,e,u),t(r,n,a,e)):_n(a,0,e,n)}function Hn(r,n,a){var e,t,u,c,i,o;for(t in r){"a1"!==t&&"a0"!==t&&"a3"!==t&&"a4"!==t?t in n?(u=r[t])===(c=n[t])&&"value"!==t&&"checked"!==t||"a0"===a&&function(r,n){return r.$==n.$&&mr(r.a,n.a)}(u,c)||((e=e||{})[t]=c):(e=e||{})[t]=a?"a1"===a?"":"a0"===a||"a3"===a?void 0:{f:r[t].f,o:void 0}:"string"==typeof r[t]?"":null:(i=Hn(r[t],n[t]||{},t))&&((e=e||{})[t]=i)}for(o in n)o in r||((e=e||{})[o]=n[o]);return e}function In(r,n,a,e){var t=r.e,u=n.e,c=t.length,i=u.length;i<c?_n(a,6,e,{v:i,i:c-i}):c<i&&_n(a,7,e,{v:c,e:u});for(var o=c<i?c:i,f=0;f<o;f++){var b=t[f];Ln(b,u[f],a,++e),e+=b.b||0}}function Jn(r,n,a,e){for(var t=[],u={},c=[],i=r.e,o=n.e,f=i.length,b=o.length,s=0,l=0,d=e;s<f&&l<b;){var v,$=(v=i[s]).a,h=(T=o[l]).a,p=v.b,g=T.b,m=void 0,y=void 0;if($!==h){var w,k,P,C,D=i[s+1],G=o[l+1];if(D&&(k=D.b,y=h===(w=D.a)),G&&(C=G.b,m=$===(P=G.a)),m&&y)Ln(p,C,t,++d),Wn(u,t,$,g,l,c),d+=p.b||0,Un(u,t,$,k,++d),d+=k.b||0,s+=2,l+=2;else if(m)d++,Wn(u,t,h,g,l,c),Ln(p,C,t,d),d+=p.b||0,s+=1,l+=2;else if(y)Un(u,t,$,p,++d),d+=p.b||0,Ln(k,g,t,++d),d+=k.b||0,s+=2,l+=1;else{if(!D||w!==P)break;Un(u,t,$,p,++d),Wn(u,t,h,g,l,c),d+=p.b||0,Ln(k,C,t,++d),d+=k.b||0,s+=2,l+=2}}else Ln(p,g,t,++d),d+=p.b||0,s++,l++}for(;s<f;){Un(u,t,(v=i[s]).a,p=v.b,++d),d+=p.b||0,s++}for(;l<b;){var T,x=x||[];Wn(u,t,(T=o[l]).a,T.b,void 0,x),l++}(0<t.length||0<c.length||x)&&_n(a,8,e,{w:t,x:c,y:x})}var Mn="_elmW6BL";function Wn(r,n,a,e,t,u){var c=r[a];if(!c)return u.push({r:t,A:c={c:0,z:e,r:t,s:void 0}}),void(r[a]=c);if(1===c.c){u.push({r:t,A:c}),c.c=2;var i=[];return Ln(c.z,e,i,c.r),c.r=t,void(c.s.s={w:i,A:c})}Wn(r,n,a+Mn,e,t,u)}function Un(r,n,a,e,t){var u=r[a];if(u){if(0===u.c){u.c=2;var c=[];return Ln(e,u.z,c,t),void _n(n,9,t,{w:c,A:u})}Un(r,n,a+Mn,e,t)}else{var i=_n(n,9,t,void 0);r[a]={c:1,z:e,r:t,s:i}}}function Fn(r,n,a,e){!function r(n,a,e,t,u,c,i){var o=e[t];var f=o.r;for(;f===u;){var b,s,l=o.$;if(1===l?Fn(n,a.k,o.s,i):8===l?(o.t=n,o.u=i,0<(s=o.s.w).length&&r(n,a,s,0,u,c,i)):9===l?(o.t=n,o.u=i,(b=o.s)&&(b.A.s=n,0<(s=b.w).length&&r(n,a,s,0,u,c,i))):(o.t=n,o.u=i),!(o=e[++t])||(f=o.r)>c)return t}var d=a.$;if(4===d){for(var v=a.k;4===v.$;)v=v.k;return r(n,v,e,t,u+1,c,n.elm_event_node_ref)}var $=a.e;var h=n.childNodes;for(var p=0;p<$.length;p++){var g=1===d?$[p]:$[p].b,m=++u+(g.b||0);if(u<=f&&f<=m&&(t=r(h[p],g,e,t,u,m,i),!(o=e[t])||(f=o.r)>c))return t;u=m}return t}(r,n,a,0,0,n.b,e)}function Nn(r,n,a,e){return 0===a.length?r:(Fn(r,n,a,e),zn(r,a))}function zn(r,n){for(var a=0;a<n.length;a++){var e=n[a],t=e.t,u=function(r,n){switch(n.$){case 0:return function(r,n,a){var e=r.parentNode,t=En(n,a);t.elm_event_node_ref||(t.elm_event_node_ref=r.elm_event_node_ref);e&&t!==r&&e.replaceChild(t,r);return t}(r,n.s,n.u);case 4:return Yn(r,n.u,n.s),r;case 3:return r.replaceData(0,r.length,n.s),r;case 1:return zn(r,n.s);case 2:return r.elm_event_node_ref?r.elm_event_node_ref.j=n.s:r.elm_event_node_ref={j:n.s,p:n.u},r;case 6:for(var a=n.s,e=0;e<a.i;e++)r.removeChild(r.childNodes[a.v]);return r;case 7:for(var t=(a=n.s).e,u=r.childNodes[e=a.v];e<t.length;e++)r.insertBefore(En(t[e],n.u),u);return r;case 9:if(!(a=n.s))return r.parentNode.removeChild(r),r;var c=a.A;return void 0!==c.r&&r.parentNode.removeChild(r),c.s=zn(r,a.w),r;case 8:return function(r,n){var a=n.s,e=function(r,n){if(!r)return;for(var a=ln.createDocumentFragment(),e=0;e<r.length;e++){var t=r[e].A;a.appendChild(2===t.c?t.s:En(t.z,n.u))}return a}(a.y,n);r=zn(r,a.w);for(var t=a.x,u=0;u<t.length;u++){var c=t[u],i=c.A,o=2===i.c?i.s:En(i.z,n.u);r.insertBefore(o,r.childNodes[c.r])}e&&r.appendChild(e);return r}(r,n);case 5:return n.s(r);default:k(10)}}(t,e);t===r&&(r=u)}return r}function Xn(r){if(3===r.nodeType)return{$:0,a:r.textContent};if(1!==r.nodeType)return{$:0,a:""};for(var n=tn,a=r.attributes,e=a.length;e--;)var t=a[e],n={$:1,a:Kr(Tn,t.name,t.value),b:n};for(var u=r.tagName.toLowerCase(),c=tn,i=r.childNodes,e=i.length;e--;)c={$:1,a:Xn(i[e]),b:c};return Qr($n,u,n,c)}var qn=b(function(n,r,a,i){return Lr(r,i,n.cW,n.dT,n.dH,function(e,r){var t=n.dW,u=i.node,c=Xn(u);return Kn(r,function(r){var n=t(r),a=Bn(c,n);u=Nn(u,c,a,e),c=n})})}),Vn="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(r){return setTimeout(r,1e3/60)};function Kn(a,e){e(a);var t=0;function u(){t=1===t?0:(Vn(u),e(a),1)}return function(r,n){a=r,n?(e(a),2===t&&(t=1)):(0===t&&Vn(u),t=2)}}var Qn={addEventListener:function(){},removeEventListener:function(){}},Zn="undefined"!=typeof document?document:Qn,ra="undefined"!=typeof window?window:Qn,na=l(function(n,a,e){return jr({$:2,b:function(){function r(r){Rr(e(r))}return n.addEventListener(a,r,jn&&{passive:!0}),function(){n.removeEventListener(a,r)}},c:null})}),aa=v(function(r,n){var a=vr(r,n);return he(a)?ma(a.a):ya});function ea(a,e){return{$:2,b:function(n){Vn(function(){var r=document.getElementById(a);n(r?{$:0,a:e(r)}:{$:1,a:ke(a)})})},c:null}}function ta(){var r=Zn.body,n=Zn.documentElement;return{dY:Math.max(r.scrollWidth,r.offsetWidth,n.scrollWidth,n.offsetWidth,n.clientWidth),cT:Math.max(r.scrollHeight,r.offsetHeight,n.scrollHeight,n.offsetHeight,n.clientHeight)}}var ua=l(function(e,t,u){return{$:2,b:function(n){function a(r){n(t(u.cM.a(r)))}var r=new XMLHttpRequest;r.addEventListener("error",function(){a(Lc)}),r.addEventListener("timeout",function(){a(Ic)}),r.addEventListener("load",function(){a(function(r,n){return Kr(200<=n.status&&n.status<300?_c:Yc,function(r){return{dV:r.responseURL,dE:r.status,dF:r.statusText,bj:function(r){if(!r)return _t;for(var n=_t,a=r.split("\r\n"),e=a.length;e--;){var t,u,c=a[e],i=c.indexOf(": ");0<i&&(t=c.substring(0,i),u=c.substring(2+i),n=Qr(Xc,t,function(r){return ma(Jc(r)?u+", "+r.a:u)},n))}return n}(r.getAllResponseHeaders())}}(n),r(n.response))}(u.cM.b,r))}),Jc(u.ck)&&function(n,a,e){a.upload.addEventListener("progress",function(r){a.c||Rr(Kr(Mc,n,{a:e,b:Hc({dB:r.loaded,b8:r.total})}))}),a.addEventListener("progress",function(r){a.c||Rr(Kr(Mc,n,{a:e,b:Oc({dx:r.loaded,b8:r.lengthComputable?ma(r.total):ya})}))})}(e,r,u.ck.a);try{r.open(u.c6,u.dV,!0)}catch(r){return a(Bc(u.dV))}return function(r,n){for(var a=n.bj;a.b;a=a.b)r.setRequestHeader(a.a.a,a.a.b);r.timeout=n.dO.a||0,r.responseType=n.cM.d,r.withCredentials=n.cs}(r,u),u.cw.a&&r.setRequestHeader("Content-Type",u.cw.a),r.send(u.cw.b),function(){r.c=!0,r.abort()}},c:null}});var ca=l(function(r,n,a){return{$:0,d:r,b:n,a:a}}),ia=v(function(n,a){return{$:0,d:a.d,b:a.b,a:function(r){return n(a.a(r))}}});var oa={$:2,b:function(r){return"undefined"!=typeof File&&r instanceof File?Ya(r):gr("a FILE",r)}};var fa;function ba(r){var n;"function"==typeof MouseEvent?r.dispatchEvent(new MouseEvent("click")):((n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(r),r.dispatchEvent(n),document.body.removeChild(r))}function sa(r){return Qr(Da,l(function(r,n,a){return Kr(wa,r,a)}),tn,r)}function la(r){return Kr(Ia,"\n    ",Kr(Ja,"\n",r))}function da(r){return Qr(Ma,v(function(r,n){return n+1}),0,r)}function va(r){var n=za(r);return 97<=n&&n<=122}function $a(r){var n=za(r);return n<=90&&65<=n}function ha(r){return va(r)||$a(r)||function(r){var n=za(r);return n<=57&&48<=n}(r)}function pa(r){return r}function ga(r){return Qr(Se,_e(wa),Re(tn),r)}var ma=function(r){return{$:0,a:r}},ya={$:1},wa=A,ka=g,Pa=l(function(a,r,n){var e=n.c,t=n.d,u=v(function(r,n){return Qr(ka,r.$?a:u,n,r.a)});return Qr(ka,u,Qr(ka,a,r,t),e)}),Ca=function(r){return Qr(Pa,wa,tn,r)},Da=l(function(r,n,a){for(;;){if(-2===a.$)return n;var e=a.d,t=r,u=Qr(r,a.b,a.c,Qr(Da,r,n,a.e));r=t,n=u,a=e}}),Ga=function(r){return Qr(Da,l(function(r,n,a){return Kr(wa,{a:r,b:n},a)}),tn,r)},Ta=1,xa=2,Ra=0,ja=function(r){return{$:1,a:r}},Aa=v(function(r,n){return{$:3,a:r,b:n}}),Sa=v(function(r,n){return{$:0,a:r,b:n}}),Ea=v(function(r,n){return{$:1,a:r,b:n}}),Ya=function(r){return{$:0,a:r}},Ba=function(r){return{$:2,a:r}},_a=z,La=T,Oa=wr,Ha=q,Ia=v(function(r,n){return Kr(F,r,S(n))}),Ja=v(function(r,n){return un(Kr(U,r,n))}),Ma=l(function(r,n,a){for(;;){if(!a.b)return n;var e=a.b,t=r,u=Kr(r,a.a,n);r=t,n=u,a=e}}),Wa=E,Ua=l(function(r,n,a){for(;;){if(1<=C(r,n))return a;var e=r,t=n-1,u=Kr(wa,n,a);r=e,n=t,a=u}}),Fa=v(function(r,n){return Qr(Ua,r,n,tn)}),Na=v(function(r,n){return Qr(Wa,r,Kr(Fa,0,da(n)-1),n)}),za=function(r){var n=r.charCodeAt(0);return n<55296||56319<n?n:1024*(n-55296)+r.charCodeAt(1)-56320+65536},Xa=function(r){return Qr(Ma,wa,tn,r)},qa=function(r){var n=r.charCodeAt(0);return isNaN(n)?ya:ma(n<55296||56319<n?{a:r[0],b:r.slice(1)}:{a:r[0]+r[1],b:r.slice(2)})},Va=v(function(r,n){return"\n\n("+Ha(r+1)+(") "+la(Ka(n)))}),Ka=function(r){return Kr(Qa,r,tn)},Qa=v(function(r,n){r:for(;;)switch(r.$){case 0:var e=r.a,a=r.b,t=function(){var r=qa(e);if(1===r.$)return!1;var n=r.a,a=n.b;return function(r){return va(r)||$a(r)}(n.a)&&Kr(_a,ha,a)}();r=a,n=Kr(wa,t?"."+e:"['"+e+"']",n);continue r;case 1:var a=r.b,u="["+Ha(r.a)+"]";r=a,n=Kr(wa,u,n);continue r;case 2:var c=r.a;if(c.b){if(c.b.b){var i=(n.b?"The Json.Decode.oneOf at json"+Kr(Ia,"",Xa(n)):"Json.Decode.oneOf")+" failed in the following "+Ha(da(c))+" ways:";return Kr(Ia,"\n\n",Kr(wa,i,Kr(Na,Va,c)))}r=a=c.a,n=n;continue r}return"Ran into a Json.Decode.oneOf with no possibilities"+(n.b?" at json"+Kr(Ia,"",Xa(n)):"!");default:var o=r.a,f=r.b;return(i=n.b?"Problem with the value at json"+Kr(Ia,"",Xa(n))+":\n\n    ":"Problem with the given value:\n\n")+(la(Kr(Oa,4,f))+"\n\n")+o}}),Za=b(function(r,n,a,e){return{$:0,a:r,b:n,c:a,d:e}}),re=[],ne=O,ae=v(function(r,n){return I(n)/I(r)}),ee=ne(Kr(ae,2,32)),te=Zr(Za,0,ee,re,re),ue=i,ce=v(function(r,n){return n(r)}),ie=H,oe=function(r){return r.length},fe=v(function(r,n){return 0<C(r,n)?r:n}),be=o,se=v(function(r,n){for(;;){var a=Kr(be,32,r),e=a.b,t=Kr(wa,{$:0,a:a.a},n);if(!e.b)return Xa(t);r=e,n=t}}),le=v(function(r,n){for(;;){var a=ne(n/32);if(1===a)return Kr(be,32,r).a;r=Kr(se,r,tn),n=a}}),de=v(function(r,n){if(n.e){var a=32*n.e,e=ie(Kr(ae,32,a-1)),t=r?Xa(n.h):n.h,u=Kr(le,t,n.e);return Zr(Za,oe(n.g)+a,Kr(fe,5,e*ee),u,n.g)}return Zr(Za,oe(n.g),ee,re,n.g)}),ve=a(function(r,n,a,e,t){for(;;){if(n<0)return Kr(de,!1,{h:e,e:a/32|0,g:t});var u={$:1,a:Qr(ue,32,n,r)};r=r,n=n-32,a=a,e=Kr(wa,u,e),t=t}}),$e=v(function(r,n){if(0<r){var a=r%32;return rn(ve,n,r-a-32,r,tn,Qr(ue,a,r-a,n))}return te}),he=function(r){return!r.$},pe=er,ge=tr,me=ur,ye=function(r){return{$:0,a:r}},we=function(r){switch(r.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},ke=pa,Pe=function(r){return r.length},Ce=N,De=v(function(r,n){return r<1?n:Qr(Ce,r,Pe(n),n)}),Ge=v(function(r,n){return r<1?"":Qr(Ce,0,r,n)}),Te=function(r){for(var n=0,a=r.charCodeAt(0),e=43==a||45==a?1:0,t=e;t<r.length;++t){var u=r.charCodeAt(t);if(u<48||57<u)return ya;n=10*n+u-48}return t==e?ya:ma(45==a?-n:n)},xe=X,Re=Dr,je=Re(0),Ae=b(function(r,n,a,e){if(e.b){var t=e.a,u=e.b;if(u.b){var c=u.a,i=u.b;if(i.b){var o=i.a,f=i.b;if(f.b){var b=f.b;return Kr(r,t,Kr(r,c,Kr(r,o,Kr(r,f.a,500<a?Qr(Ma,r,n,Xa(b)):Zr(Ae,r,n,a+1,b)))))}return Kr(r,t,Kr(r,c,Kr(r,o,n)))}return Kr(r,t,Kr(r,c,n))}return Kr(r,t,n)}return n}),Se=l(function(r,n,a){return Zr(Ae,r,n,0,a)}),Ee=v(function(a,r){return Qr(Se,v(function(r,n){return Kr(wa,a(r),n)}),tn,r)}),Ye=Gr,Be=v(function(n,r){return Kr(Ye,function(r){return Re(n(r))},r)}),_e=l(function(a,r,e){return Kr(Ye,function(n){return Kr(Ye,function(r){return Re(Kr(a,n,r))},e)},r)}),Le=Hr,Oe=v(function(r,n){var a=n;return jr(Kr(Ye,Le(r),a))});Or.Task={b:je,c:l(function(r,n){return Kr(Be,function(){return 0},ga(Kr(Ee,Oe(r),n)))}),d:l(function(){return Re(0)}),e:v(function(r,n){return Kr(Be,r,n)}),f:void 0};function He(r){return!r}function Ie(r){return Qr(Ma,v(function(r,n){return Qr(Jt,r.a,r.b,n)}),_t,r)}function Je(r){var n=Kr(Ee,function(r){return Ut(r)},r);return Kr(Yt,function(r){return!an(r,ya)},n)?ye(Kr(Ee,function(r){return Kr(Ft,0,r)},n)):dt("Could not decode all map tile references")}function Me(n){return Kr(pe,function(r){return ye(Kr(At,n,r))},Kr(pe,Je,Kr(gt,"links",Nt(mt))))}function We(r){return Kr(tu,r,"")}function Ue(r){return-r}function Fe(r){return Qr(fu,wa,tn,r)}function Ne(n){if(""===n)return ja("Empty strings are not valid hexadecimal strings.");var r=function(){if(Kr(xe,"-",n)){var r=Kr(Ft,tn,function(r){if(r.b){return ma(r.b)}return ya}(Fe(n)));return Kr(iu,Ue,Qr(cu,da(r)-1,r,0))}return Qr(cu,Pe(n)-1,Fe(n),0)}();return Kr(ou,function(r){return Kr(Ia," ",un(['"'+n+'"',"is not a valid hexadecimal string because",r]))},r)}function ze(r){var n=Ne(r);return n.$?0:n.a}function Xe(r){var n=Qr(bu,"#","",r);return Zr(eu,ze(Kr(Ge,2,n)),ze(Kr(Ge,2,Kr(De,2,n))),ze(Kr(Ge,2,Kr(De,4,n))),6<Pe(n)?ze(Kr(Ge,2,Kr(De,6,n))):1)}function qe(r){return du(un([Kr(ge,ma,r),ye(ya)]))}function Ve(r){switch(vt(r)){case"normal":return ye(1);case"elite":return ye(2);case"none":return ye(0);default:return dt(r+" is not a valid monster level")}}function Ke(r){var n=Kr(Wt,vt(r),wu);return n.$?Kr(yu,function(r){return{$:1,a:r}},Kr(Wt,vt(r),mu)):ma({$:0,a:n.a})}var Qe=Jr("Task"),Ze=v(function(r,n){return Qe(Kr(Be,r,n))}),rt=qn,nt=ar,at=v(function(r,n){return{$:0,a:r,b:n}}),et=a(function(r,n,a,e,t){return{$:0,a:r,b:n,c:a,d:e,e:t}}),tt=a(function(r,n,a,e,t){return{$:1,a:r,b:n,c:a,d:e,e:t}}),ut=Mr,ct=Cr,it=qr("connect",function(){return ct})(0),ot=a(function(r,n,a,e,t){return{cr:t,cu:e,ar:r,bs:a,dP:n}}),ft=t(function(r,n,a,e,t,u,c){return{ba:n,bs:c,bU:a,bV:e,bW:t,bX:u,cc:r}}),bt=a(function(r,n,a,e,t){return{$:0,a:r,b:n,c:a,d:e,e:t}}),st=a(function(r,n,a,e,t){return{am:n,bu:e,bG:a,bP:r,dR:t}}),lt=b(function(r,n,a,e){return{aa:e,aH:a,ar:n,bP:r}}),dt=function(r){return{$:1,a:r}},vt=function(r){return r.toLowerCase()},$t=function(r){switch(vt(r)){case"default":return ye(0);case"horizontal":return ye(1);case"vertical":return ye(2);case"vertical-reverse":return ye(3);case"diagonal-left":return ye(4);case"diagonal-right":return ye(5);case"diagonal-left-reverse":return ye(6);case"diagonal-right-reverse":return ye(7);default:return dt("Could not decode overlay direction '"+r+"'")}},ht={$:5},pt={$:6},gt=nr,mt=rr,yt=Kr(pe,function(r){switch(vt(r)){case"log":return ye({$:0,a:0});case"rubble":return ye({$:0,a:1});case"stairs":return ye({$:0,a:2});case"stairs-vert":return ye({$:0,a:3});case"water":return ye({$:0,a:4});default:return dt(r+" is not a difficult terrain sub-type")}},Kr(gt,"subType",mt)),wt={$:0},kt={$:1},Pt={$:3},Ct={$:4},Dt={$:5},Gt={$:6},Tt=v(function(r,n){return{$:2,a:r,b:n}}),xt=V,Rt=Kr(pe,function(r){var n=function(){switch(vt(r)){case"dark":return ma(0);case"earth":return ma(1);case"manmade-stone":return ma(2);case"natural-stone":return ma(3);case"pressure-plate":return ma(4);case"wood":return ma(5);default:return ya}}();return n.$?dt("Could not decode material '"+r+"'"):function(n){return Kr(pe,function(r){switch(r){case 1:return ye(Kr(Tt,n,0));case 2:return ye(Kr(Tt,n,1));default:return dt(Ha(r)+" is not a valid corridor size")}},Kr(gt,"size",xt))}(n.a)},Kr(gt,"material",mt)),jt=Kr(pe,function(r){switch(vt(r)){case"altar":return ye(wt);case"stone":return ye(Dt);case"wooden":return ye(Gt);case"breakable-wall":return ye(kt);case"corridor":return Rt;case"dark-fog":return ye(Pt);case"light-fog":return ye(Ct);default:return dt(r+" is not a door sub-type")}},Kr(gt,"subType",mt)),At=v(function(r,n){return{$:1,a:r,b:n}}),St=v(function(r,n){for(;;){if(!n.b)return!1;var a=n.b;if(r(n.a))return!0;r=r,n=a}}),Et=l(function(r,n,a){return r(n(a))}),Yt=v(function(r,n){return!Kr(St,Kr(Et,He,r),n)}),Bt={$:-2},_t=Bt,Lt=a(function(r,n,a,e,t){return{$:-1,a:r,b:n,c:a,d:e,e:t}}),Ot=a(function(r,n,a,e,t){if(-1!==t.$||t.a){if(-1!==e.$||e.a||-1!==e.d.$||e.d.a)return rn(Lt,r,n,a,e,t);var u=e.d,c=e.e;return rn(Lt,0,e.b,e.c,rn(Lt,1,u.b,u.c,u.d,u.e),rn(Lt,1,n,a,c,t))}var i=t.b,o=t.c,f=t.d,b=t.e;if(-1!==e.$||e.a)return rn(Lt,r,i,o,rn(Lt,0,n,a,e,f),b);var c;return rn(Lt,0,n,a,rn(Lt,1,e.b,e.c,e.d,c=e.e),rn(Lt,1,i,o,f,b))}),Ht=D,It=l(function(r,n,a){if(-2===a.$)return rn(Lt,0,r,n,Bt,Bt);var e=a.a,t=a.b,u=a.c,c=a.d,i=a.e;switch(Kr(Ht,r,t)){case 0:return rn(Ot,e,t,u,Qr(It,r,n,c),i);case 1:return rn(Lt,e,t,n,c,i);default:return rn(Ot,e,t,u,c,Qr(It,r,n,i))}}),Jt=l(function(r,n,a){var e=Qr(It,r,n,a);if(-1!==e.$||e.a)return e;return rn(Lt,1,e.b,e.c,e.d,e.e)}),Mt=Ie(un([{a:"a1a",b:0},{a:"a1b",b:1},{a:"a2a",b:2},{a:"a2b",b:3},{a:"a3a",b:4},{a:"a3b",b:5},{a:"a4a",b:6},{a:"a4b",b:7},{a:"b1a",b:8},{a:"b1b",b:9},{a:"b2a",b:10},{a:"b2b",b:11},{a:"b3a",b:12},{a:"b3b",b:13},{a:"b4a",b:14},{a:"b4b",b:15},{a:"c1a",b:16},{a:"c1b",b:17},{a:"c2a",b:18},{a:"c2b",b:19},{a:"d1a",b:20},{a:"d1b",b:21},{a:"d2a",b:22},{a:"d2b",b:23},{a:"e1a",b:24},{a:"e1b",b:25},{a:"f1a",b:26},{a:"f1b",b:27},{a:"g1a",b:28},{a:"g1b",b:29},{a:"g2a",b:30},{a:"g2b",b:31},{a:"h1a",b:32},{a:"h1b",b:33},{a:"h2a",b:34},{a:"h2b",b:35},{a:"h3a",b:36},{a:"h3b",b:37},{a:"i1a",b:38},{a:"i1b",b:39},{a:"i2a",b:40},{a:"i2b",b:41},{a:"j1a",b:42},{a:"j1b",b:43},{a:"j1ba",b:44},{a:"j1bb",b:45},{a:"j2a",b:46},{a:"j2b",b:47},{a:"k1a",b:48},{a:"k1b",b:49},{a:"k2a",b:50},{a:"k2b",b:51},{a:"l1a",b:52},{a:"l1b",b:53},{a:"l2a",b:54},{a:"l2b",b:55},{a:"l3a",b:56},{a:"l3b",b:57},{a:"m1a",b:58},{a:"m1b",b:59},{a:"n1a",b:60},{a:"n1b",b:61},{a:"empty",b:62}])),Wt=v(function(r,n){r:for(;;){if(-2===n.$)return ya;var a=n.c,e=n.d,t=n.e;switch(Kr(Ht,r,n.b)){case 0:r=r,n=e;continue r;case 1:return ma(a);default:r=r,n=t;continue r}}}),Ut=function(r){return Kr(Wt,vt(r),Mt)},Ft=v(function(r,n){return n.$?r:n.a}),Nt=function(r){return{$:3,b:r}},zt=Kr(pe,function(r){switch(vt(r)){case"hot-coals":return ye({$:2,a:0});case"thorns":return ye({$:2,a:1});default:return dt(r+" is not an hazard sub-type")}},Kr(gt,"subType",mt)),Xt=Kr(pe,function(r){switch(vt(r)){case"altar":return ye({$:4,a:0});case"barrel":return ye({$:4,a:1});case"boulder-1":return ye({$:4,a:3});case"boulder-2":return ye({$:4,a:4});case"boulder-3":return ye({$:4,a:5});case"bush":return ye({$:4,a:6});case"bookcase":return ye({$:4,a:2});case"crate":return ye({$:4,a:8});case"cabinet":return ye({$:4,a:7});case"crystal":return ye({$:4,a:9});case"dark-pit":return ye({$:4,a:10});case"fountain":return ye({$:4,a:11});case"mirror":return ye({$:4,a:12});case"nest":return ye({$:4,a:13});case"pillar":return ye({$:4,a:14});case"rock-column":return ye({$:4,a:15});case"sarcophagus":return ye({$:4,a:16});case"shelf":return ye({$:4,a:17});case"stalagmites":return ye({$:4,a:18});case"stump":return ye({$:4,a:19});case"table":return ye({$:4,a:20});case"totem":return ye({$:4,a:21});case"tree-3":return ye({$:4,a:22});case"wall-section":return ye({$:4,a:23});default:return dt(r+" is not an obstacle sub-type")}},Kr(gt,"subType",mt)),qt=Kr(pe,function(r){return ye({$:9,a:r})},Kr(gt,"value",mt)),Vt=Kr(pe,function(r){switch(vt(r)){case"bear":return ye({$:7,a:0});case"spike":return ye({$:7,a:2});case"poison":return ye({$:7,a:1});default:return dt(r+" is not a trap sub-type")}},Kr(gt,"subType",mt)),Kt={$:1},Qt={$:2},Zt=Kr(pe,function(r){switch(vt(r)){case"goal":return ye({$:8,a:{$:0,a:Kt}});case"locked":return ye({$:8,a:{$:0,a:Qt}});default:var n=Te(r);return n.$?dt("Unknown treasure id '"+r+"'. Valid types are 'goal' or an Int"):ye({$:8,a:{$:0,a:{$:0,a:n.a}}})}},Kr(gt,"id",mt)),ru=Kr(pe,function(r){return ye({$:8,a:{$:1,a:r}})},Kr(gt,"amount",xt)),nu=Kr(pe,function(r){switch(vt(r)){case"chest":return Zt;case"coin":return ru;default:return dt("Unknown treasure type: "+r)}},Kr(gt,"subType",mt)),au=Kr(pe,function(r){switch(vt(r)){case"huge-rock":return ye({$:10,a:0});case"iron":return ye({$:10,a:1});case"large-rock":return ye({$:10,a:2});case"obsidian-glass":return ye({$:10,a:3});case"rock":return ye({$:10,a:4});default:return dt(r+" is not a wall sub-type")}},Kr(gt,"subType",mt)),eu=b(function(r,n,a,e){return{aZ:e,aB:a,aK:n,aS:r}}),tu=J,uu=_,cu=l(function(r,n,a){r:for(;;){if(!n.b)return Ya(a);var e=n.a,t=n.b;switch(e){case"0":r=u=r-1,n=c=t,a=i=a;continue r;case"1":var u=r-1,c=t,i=a+Kr(uu,16,r);r=u,n=c,a=i;continue r;case"2":u=r-1,c=t,i=a+2*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"3":u=r-1,c=t,i=a+3*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"4":u=r-1,c=t,i=a+4*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"5":u=r-1,c=t,i=a+5*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"6":u=r-1,c=t,i=a+6*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"7":u=r-1,c=t,i=a+7*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"8":u=r-1,c=t,i=a+8*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"9":u=r-1,c=t,i=a+9*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"a":u=r-1,c=t,i=a+10*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"b":u=r-1,c=t,i=a+11*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"c":u=r-1,c=t,i=a+12*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"d":u=r-1,c=t,i=a+13*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"e":u=r-1,c=t,i=a+14*Kr(uu,16,r);r=u,n=c,a=i;continue r;case"f":u=r-1,c=t,i=a+15*Kr(uu,16,r);r=u,n=c,a=i;continue r;default:return ja(We(e)+" is not a valid hexadecimal character.")}}}),iu=v(function(r,n){return n.$?ja(n.a):Ya(r(n.a))}),ou=v(function(r,n){return n.$?ja(r(n.a)):Ya(n.a)}),fu=W,bu=l(function(r,n,a){return Kr(Ia,n,Kr(Ja,r,a))}),su=Kr(pe,function(r){switch(vt(r)){case"door":return Kr(pe,Me,jt);case"difficult-terrain":return yt;case"hazard":return zt;case"highlight":return Kr(pe,function(r){return ye({$:3,a:Xe(r)})},Kr(gt,"colour",mt));case"obstacle":return Xt;case"rift":return ye(ht);case"starting-location":return ye(pt);case"trap":return Vt;case"treasure":return nu;case"token":return qt;case"wall":return au;default:return dt("Unknown overlay type: "+r)}},Kr(gt,"type",mt)),lu=ir,du=function(r){return{$:11,g:r}},vu=v(function(r,n){return{a:r,b:n}}),$u=rn(lu,lt,Kr(gt,"ref",su),Kr(pe,function(r){return ye(r.$?0:r.a)},qe(Kr(gt,"id",xt))),Kr(pe,$t,Kr(gt,"direction",mt)),Kr(gt,"cells",Nt(Qr(me,vu,Kr(nt,0,xt),Kr(nt,1,xt))))),hu=a(function(r,n,a,e,t){return{ar:n,bq:a,n:r,dq:t,dX:e}}),pu=e(function(r,n,a,e,t,u){return{cS:u,bl:n,bm:a,n:r,dL:t,dS:e}}),gu=fr,mu=Ie(un([{a:"bandit-commander",b:0},{a:"human-commander",b:1},{a:"valrath-commander",b:2},{a:"merciless-overseer",b:3},{a:"inox-bodyguard",b:4},{a:"captain-of-the-guard",b:5},{a:"jekserah",b:6},{a:"prime-demon",b:7},{a:"elder-drake",b:8},{a:"the-betrayer",b:9},{a:"the-colorless",b:10},{a:"the-sightless-eye",b:11},{a:"dark-rider",b:12},{a:"winged-horror",b:13},{a:"the-gloom",b:14},{a:"manifestation-of-corruption",b:15}])),yu=v(function(r,n){return n.$?ya:ma(r(n.a))}),wu=Ie(un([{a:"aesther-ashblade",b:0},{a:"aesther-scout",b:1},{a:"bandit-guard",b:2},{a:"bandit-archer",b:3},{a:"city-guard",b:4},{a:"city-archer",b:5},{a:"inox-guard",b:6},{a:"inox-archer",b:7},{a:"inox-shaman",b:8},{a:"valrath-tracker",b:9},{a:"valrath-savage",b:10},{a:"vermling-scout",b:11},{a:"vermling-shaman",b:12},{a:"living-bones",b:13},{a:"living-corpse",b:14},{a:"living-spirit",b:15},{a:"cultist",b:16},{a:"flame-demon",b:17},{a:"frost-demon",b:18},{a:"earth-demon",b:19},{a:"wind-demon",b:20},{a:"night-demon",b:21},{a:"sun-demon",b:22},{a:"ooze",b:23},{a:"giant-viper",b:24},{a:"forest-imp",b:25},{a:"hound",b:26},{a:"cave-bear",b:27},{a:"stone-golem",b:28},{a:"ancient-artillery",b:29},{a:"rending-drake",b:30},{a:"spitting-drake",b:31},{a:"lurker",b:32},{a:"savvas-icestorm",b:33},{a:"savvas-lavaflow",b:34},{a:"harrower-infester",b:35},{a:"deep-terror",b:36},{a:"black-imp",b:37}])),ku=nn(gu,pu,Kr(pe,function(r){var n=Ke(r);return n.$?dt("Could not decode monster "+r):ye(rn(hu,n.a,0,0,!1,!1))},Kr(gt,"monster",mt)),Kr(gt,"initialX",xt),Kr(gt,"initialY",xt),Kr(pe,Ve,Kr(gt,"twoPlayer",mt)),Kr(pe,Ve,Kr(gt,"threePlayer",mt)),Kr(pe,Ve,Kr(gt,"fourPlayer",mt))),Pu=function(r){return Kr(pe,r,ye(0))},Cu=or,Du=br;function Gu(){return $(Cu,st,Kr(pe,function(r){var n=Ut(r);return n.$?dt("Could not find tile reference "+r):ye(n.a)},Kr(gt,"ref",mt)),Kr(gt,"doors",Nt(Tu())),Kr(gt,"overlays",Nt($u)),Kr(gt,"monsters",Nt(ku)),Kr(gt,"turns",xt))}function Tu(){return Kr(pe,function(r){return ye(rn(bt,r.cc,r.ba,{a:r.bU,b:r.bV},{a:r.bW,b:r.bX},r.bs))},h(Du,ft,jt,Kr(pe,$t,Kr(gt,"direction",mt)),Kr(gt,"room1X",xt),Kr(gt,"room1Y",xt),Kr(gt,"room2X",xt),Kr(gt,"room2Y",xt),Kr(gt,"mapTileData",Pu(function(){return Gu()}))))}var xu=Gu();Gu=function(){return xu};var Ru=Tu();Tu=function(){return Ru};function ju(r){var n=Kr(Ee,Ke,r);return Kr(Yt,function(r){return!an(r,ya)},n)?ye(Kr(Mu,function(r){return r},n)):dt("Could not decode all monster references")}function Au(r){var n=r.b;return Kr(Zu,1664525*r.a+n>>>0,n)}function Su(r){var n=Au(Kr(Zu,0,1013904223));return Au(Kr(Zu,n.a+r>>>0,n.b))}function Eu(r){var n=Kr(Mu,function(r){var n=r.bP;return 1!==n.$?ya:ma(n.a)},r.bJ);return Kr(ec,function(r){return!Kr(tc,r,n)},r.ay)}function Yu(r){switch(vt(r)){case"game":return ye(0);case"scenariodialog":return ye(1);case"serverconfigdialog":case"configdialog":return ye(2);case"playerchoicedialog":return ye(3);default:return dt("`"+r+"` is not a valid app mode")}}function Bu(r){switch(vt(r)){case"movepiece":return ye(0);case"killpiece":return ye(1);case"moveoverlay":return ye(2);case"destroyoverlay":return ye(3);case"lootcell":return ye(4);case"revealroom":return ye(5);case"addpiece":return ye(6);default:return dt("`"+r+"` is not a valid game mode")}}function _u(r){return du(un([bc(ya),Kr(ge,ma,r)]))}function Lu(r){return Kr(Wt,vt(r),yc)}function Ou(r){if(-1!==r.$||-1!==r.d.$||-1!==r.e.$)return r;if(-1!==r.e.d.$||r.e.d.a){var n=r.d,a=r.e,e=a.b,t=a.c,u=a.d,c=a.e;return rn(Lt,1,r.b,r.c,rn(Lt,0,n.b,n.c,n.d,n.e),rn(Lt,0,e,t,u,c))}var u,i=r.d,o=r.e,e=o.b,t=o.c,f=(u=o.d).d,b=u.e,c=o.e;return rn(Lt,0,u.b,u.c,rn(Lt,1,r.b,r.c,rn(Lt,0,i.b,i.c,i.d,i.e),f),rn(Lt,1,e,t,b,c))}function Hu(r){if(-1!==r.$||-1!==r.d.$||-1!==r.e.$)return r;if(-1!==r.d.d.$||r.d.d.a){var n=r.d,a=n.d,e=r.e,t=e.b,u=e.c,c=e.d,i=e.e;return rn(Lt,1,o=r.b,f=r.c,rn(Lt,0,n.b,n.c,a,l=n.e),rn(Lt,0,t,u,c,i))}var o=r.b,f=r.c,b=r.d,s=b.d,l=b.e,d=r.e,t=d.b,u=d.c,c=d.d,i=d.e;return rn(Lt,0,b.b,b.c,rn(Lt,1,s.b,s.c,s.d,s.e),rn(Lt,1,o,f,l,rn(Lt,0,t,u,c,i)))}function Iu(r){return{$:4,a:r}}var Ju=l(function(r,n,a){var e=r(n);return e.$?a:Kr(wa,e.a,a)}),Mu=v(function(r,n){return Qr(Se,Ju(r),tn,n)}),Wu=Q,Uu=$(Cu,ot,Kr(gt,"id",xt),Kr(gt,"title",mt),Kr(gt,"mapTileData",xu),Kr(gt,"angle",Wu),Kr(pe,ju,Kr(gt,"additionalMonsters",Nt(mt)))),Fu=lr,Nu=c(function(r,n,a,e,t,u,c,i,o){return{a_:r,a0:c,aC:i,bd:u,bg:n,bY:a,b7:t,ce:e,cl:o}}),zu=x(Nu,0,0,ya,"#963f9d",!0,!1,!1,ya,0),Xu=u(function(r,n,a,e,t,u,c,i){return{v:c,bG:t,bJ:u,ay:n,bY:i,b2:r,dU:a,ak:e}}),qu=h(Xu,Kr(at,0,1),tn,0,tn,tn,tn,_t,""),Vu={a:qu,b:zu},Ku=a(function(r,n,a,e,t){return{b_:e,b2:n,b6:a,b:r,D:t}}),Qu=rn(ot,0,"",rn(st,0,tn,tn,tn,0),0,tn),Zu=v(function(r,n){return{$:0,a:r,b:n}}),rc=rn(Ku,qu,Qu,Su(0),tn,te),nc=t(function(r,n,a,e,t,u,c){return{aC:c,cX:n,cY:a,cZ:r,c0:t,c1:u,c2:e}}),ac=nn(nc,ya,ya,ya,!1,!1,!1,ya),ec=v(function(a,r){return Qr(Se,v(function(r,n){return a(r)?Kr(wa,r,n):n}),tn,r)}),tc=v(function(n,r){return Kr(St,function(r){return an(r,n)},r)}),uc=dr,cc=v(function(r,n){return{aD:r,aJ:n}}),ic=K,oc=v(function(r,n){return{$:0,a:r,b:n}}),fc=Kr(pe,function(n){return Kr(pe,function(r){return ye(ma(Kr(oc,n,r)))},Kr(gt,"url",mt))},Kr(gt,"name",mt)),bc=function(r){return{$:5,c:r}},sc=me(ce),lc=v(function(r,n){return Qr(Se,gt,n,r)}),dc=Z,vc=l(function(t,u,c){function i(r){return du(un([r,bc(c)]))}return Kr(pe,function(r){var n=Kr(uc,Kr(lc,t,dc),r);if(n.$)return ye(c);var a=n.a,e=Kr(uc,i(u),a);return e.$?Kr(lc,t,i(u)):ye(e.a)},dc)}),$c=b(function(r,n,a,e){return Kr(sc,Qr(vc,un([r]),n,a),e)}),hc=l(function(r,n,a){return Kr(sc,Kr(gt,r,n),a)}),pc=Zr($c,"tutorialStep",xt,0,Zr($c,"campaignTracker",fc,ya,Zr($c,"boardOnly",ic,!1,Zr($c,"envelopeX",ic,!1,Qr(hc,"showRoomCode",ic,Zr($c,"summonsColour",mt,"#963f9d",Qr(hc,"roomCode",_u(mt),Qr(hc,"gameMode",Kr(pe,Bu,mt),Qr(hc,"appMode",Kr(pe,Yu,mt),ye(Nu)))))))))),gc=function(r){return{$:4,b:r}},mc=Kr(pe,function(n){return Kr(pe,function(r){return ye({a:n,b:r})},Kr(gt,"bucket",gc(xt)))},Kr(gt,"ref",mt)),yc=Ie(un([{a:"brute",b:3},{a:"tinkerer",b:18},{a:"scoundrel",b:13},{a:"cragheart",b:4},{a:"mindthief",b:8},{a:"spellweaver",b:15},{a:"diviner",b:5},{a:"phoenix-face",b:0},{a:"lightning-bolt",b:1},{a:"angry-face",b:6},{a:"triforce",b:7},{a:"eclipse",b:9},{a:"cthulhu",b:10},{a:"three-spears",b:11},{a:"saw",b:12},{a:"music-note",b:14},{a:"concentric-circles",b:16},{a:"sun",b:17},{a:"envelope-x",b:2}])),wc=Kr(pe,function(r){var n=Lu(r);return n.$?dt(r+" is not a valid player class"):ye(n.a)},Kr(gt,"class",mt)),kc=Kr(pe,function(r){return ye({$:1,a:r})},Kr(gt,"custom",mt)),Pc=Kr(pe,function(r){var n=vt(r),a="gloomhaven"===n?ma(0):"solo"===n?ma(1):ya;if(a.$)return dt("Could not find expansion "+n);var e=a.a;return Kr(pe,function(r){return ye(Kr(at,e,r))},Kr(gt,"id",xt))},Kr(gt,"expansion",mt)),Cc=l(function(r,n,a){return{bP:r,cn:n,co:a}}),Dc=$(Cu,hu,Kr(pe,function(r){var n=Ke(r);return n.$?dt(r+" is not a valid monster type"):ye(n.a)},Kr(gt,"class",mt)),Kr(gt,"id",xt),Kr(pe,Ve,Kr(gt,"level",mt)),Kr(pe,function(r){return ye(Kr(Ft,!1,r))},qe(Kr(gt,"wasSummoned",ic))),Kr(pe,function(r){return ye(Kr(Ft,!1,r))},qe(Kr(gt,"outOfPhase",ic)))),Gc={$:1},Tc=v(function(r,n){return{$:0,a:r,b:n}}),xc=du(un([Kr(pe,function(n){return Kr(pe,function(r){return ye({$:1,a:Kr(Tc,n,Xe(r))})},Kr(gt,"colour",mt))},Kr(gt,"id",xt)),Kr(pe,function(r){return"bear"===vt(r)?ye({$:1,a:Gc}):dt("Cannot convert "+r+" to summons type")},Kr(gt,"id",mt))])),Rc=cr,jc=Zr(Rc,Cc,Kr(gt,"ref",Kr(pe,function(r){switch(vt(r)){case"player":return Kr(pe,function(r){return ye({$:1,a:r})},wc);case"monster":return Kr(pe,function(r){return ye({$:2,a:{$:0,a:r}})},Dc);case"summons":return Kr(pe,function(r){return ye({$:2,a:r})},xc);default:return dt("Unknown overlay type: "+r)}},Kr(gt,"type",mt))),Kr(gt,"x",xt),Kr(gt,"y",xt)),Ac=x(sr,Xu,Kr(gt,"scenario",du(un([Kr(pe,function(r){return ye(Kr(at,0,r))},xt),Pc,kc]))),Kr(gt,"players",Nt(wc)),Kr(gt,"updateCount",xt),Kr(pe,Je,Kr(gt,"visibleRooms",Nt(mt))),Kr(gt,"overlays",Nt($u)),Kr(gt,"pieces",Nt(jc)),Kr(pe,function(r){return ye(Ie(r))},Kr(gt,"availableMonsters",Nt(mc))),Kr(gt,"roomCode",mt)),Sc=Qr(me,cc,Kr(gt,"config",pc),Kr(gt,"gameState",Ac)),Ec=h(Du,nc,Kr(gt,"initScenario",qe(xt)),Kr(gt,"initPlayers",Kr(pe,function(r){return ye(Kr(yu,function(r){return Kr(Mu,Lu,r)},r))},qe(Nt(mt)))),Kr(gt,"initRoomCodeSeed",qe(xt)),Kr(gt,"lockScenario",ic),Kr(gt,"lockPlayers",ic),Kr(gt,"lockRoomCode",ic),Kr(gt,"campaignTracker",fc)),Yc=v(function(r,n){return{$:3,a:r,b:n}}),Bc=function(r){return{$:0,a:r}},_c=v(function(r,n){return{$:4,a:r,b:n}}),Lc={$:2},Oc=function(r){return{$:1,a:r}},Hc=function(r){return{$:0,a:r}},Ic={$:1},Jc=function(r){return!r.$},Mc=Ir,Wc=t(function(r,n,a,e,t,u,c){if(-1!==u.$||u.a){r:for(;-1===c.$&&1===c.a;){if(-1===c.d.$){if(1!==c.d.a)break r;return Hu(n)}return Hu(n)}return n}return rn(Lt,a,u.b,u.c,u.d,rn(Lt,0,e,t,u.e,c))}),Uc=function(r){if(-1!==r.$||-1!==r.d.$)return Bt;var n=r.a,a=r.b,e=r.c,t=r.d,u=t.d,c=r.e;if(1!==t.a)return rn(Lt,n,a,e,Uc(t),c);if(-1!==u.$||u.a){var i=Ou(r);if(-1!==i.$)return Bt;var o=i.e;return rn(Ot,i.a,i.b,i.c,Uc(i.d),o)}return rn(Lt,n,a,e,Uc(t),c)},Fc=v(function(r,n){if(-2===n.$)return Bt;var a=n.a,e=n.b,t=n.c,u=n.d,c=n.e;if(C(r,e)<0){if(-1!==u.$||1!==u.a)return rn(Lt,a,e,t,Kr(Fc,r,u),c);var i=u.d;if(-1!==i.$||i.a){var o=Ou(n);if(-1!==o.$)return Bt;var f=o.e;return rn(Ot,o.a,o.b,o.c,Kr(Fc,r,o.d),f)}return rn(Lt,a,e,t,Kr(Fc,r,u),c)}return Kr(Nc,r,nn(Wc,r,n,a,e,t,u,c))}),Nc=v(function(r,n){if(-1!==n.$)return Bt;var a=n.a,e=n.b,t=n.c,u=n.d,c=n.e;if(an(r,e)){var i=function(r){for(;;){if(-1!==r.$||-1!==r.d.$)return r;r=r.d}}(c);return-1!==i.$?Bt:rn(Ot,a,i.b,i.c,u,Uc(c))}return rn(Ot,a,e,t,u,Kr(Fc,r,c))}),zc=v(function(r,n){var a=Kr(Fc,r,n);if(-1!==a.$||a.a)return a;return rn(Lt,1,a.b,a.c,a.d,a.e)}),Xc=l(function(r,n,a){var e=n(Kr(Wt,r,a));return e.$?Kr(zc,r,a):Qr(Jt,r,e.a,a)}),qc=l(function(r,n,a){return n(r(a))}),Vc=v(function(r,n){return Qr(ca,"",pa,Kr(qc,n,r))}),Kc={$:2},Qc={$:1},Zc=v(function(r,n){switch(n.$){case 0:return ja({$:0,a:n.a});case 1:return ja(Qc);case 2:return ja(Kc);case 3:return ja({$:3,a:n.a.dE});default:return Kr(ou,Iu,r(n.b))}}),ri=v(function(r,n){return Kr(Vc,r,Zc(function(r){return Kr(ou,Ka,Kr(Fu,n,r))}))}),ni={$:0},ai=v(function(r,n){return{bR:r,cd:n}}),ei=Re(Kr(ai,_t,tn)),ti=function(a){return{$:2,b:function(r){var n=a.f;2===n.$&&n.c&&n.c(),a.f=null,r({$:0,a:G})},c:null}},ui=jr,ci=l(function(a,r,e){for(;;){if(!r.b)return Re(e);var n=r.a,t=r.b;if(n.$){var u=n.a;return Kr(Ye,function(r){var n=u.ck;return Qr(ci,a,t,1===n.$?e:Qr(Jt,n.a,r,e))},ui(Qr(ua,a,Le(a),u)))}var c=n.a,i=Kr(Wt,c,e);if(1!==i.$)return Kr(Ye,function(){return Qr(ci,a,t,Kr(zc,c,e))},ti(i.a));a=a,r=t,e=e}}),ii=b(function(r,n,a,e){return Kr(Ye,function(r){return Re(Kr(ai,r,a))},Qr(ci,r,n,e.bR))}),oi=b(function(r,n,a,e){var t=e.b;return an(n,e.a)?ma(Kr(Le,r,t(a))):ya}),fi=l(function(r,n,a){return Kr(Ye,function(){return Re(a)},ga(Kr(Mu,Qr(oi,r,n.a,n.b),a.cd)))}),bi=v(function(r,n){if(n.$){var a=n.a;return{$:1,a:{cs:a.cs,cw:a.cw,cM:Kr(ia,r,a.cM),bj:a.bj,c6:a.c6,dO:a.dO,ck:a.ck,dV:a.dV}}}return{$:0,a:n.a}}),si=v(function(r,n){return{$:0,a:r,b:n}});Or.Http={b:ei,c:ii,d:fi,e:bi,f:v(function(r,n){return Kr(si,n.a,Kr(qc,n.b,r))})};function li(r){return function(r){return co({$:1,a:{cs:!1,cw:r.cw,cM:r.cM,bj:r.bj,c6:r.c6,dO:r.dO,ck:r.ck,dV:r.dV}})}({cw:ni,cM:r.cM,bj:tn,c6:"GET",dO:ya,ck:ya,dV:r.dV})}function di(r){return{$:4,a:r}}function vi(r){return{$:15,a:r}}function $i(r){return{$:5,a:r}}function hi(r){return r.a}function pi(r){if(r.b){return ma(r.a)}return ya}function gi(r){if(r.$){var a=r.a,n=pi(Ga(Kr(xo,v(function(r,n){return an(n,a)}),mu)));return Kr(yu,function(r){return r.a},n)}var e=r.a,n=pi(Ga(Kr(xo,v(function(r,n){return an(n,e)}),wu)));return Kr(yu,function(r){return r.a},n)}function mi(r){return Qr(Ma,v(function(r,n){return Qr(Pr,r.a,r.b,n)}),{},r)}function yi(r){var n=r.R;return n.$?r.a.b.ay:n.a}function wi(r){var n=r.S;if(n.$){var a=r.a.b.b2;if(a.$)return r.a.b.b2;var e=a.a,t=r.B;if(t.$)return r.a.b.b2;var u=Te(t.a);return u.$?r.a.b.b2:Kr(at,e,u.a)}if(n.a.$)return{$:1,a:n.a.a};var e=n.a.a,c=r.B;if(c.$){var i=r.a.b.b2;return Kr(at,e,i.$?1:i.b)}var o=Te(c.a);if(o.$){var f=r.a.b.b2;return Kr(at,e,f.$?1:f.b)}return Kr(at,e,o.a)}function ki(r){var n,a=r.j;if(a.$){var e=(n=Kr(Ja,"-",Kr(Ft,"",r.aD.bY))).b?{a:n.a,b:Kr(Ia,"",n.b)}:{a:"",b:""};return $(nf,e,r.aD.ce,r.aD.b7,r.aD.a0,r.t,r.aD.bd)}return a.a}function Pi(r){var n=Kr(Ja,"-",r);if(n.b&&n.b.b){var a=n.a,e=n.b,t=e.a;return!da(e.b)&&Kr(Yt,ha,Fe(a))&&Kr(Yt,ha,Fe(t))&&5===Pe(a)&&5===Pe(t)}return!1}function Ci(r){return Qr(Da,l(function(r,n,a){return Kr(wa,n,a)}),tn,r)}function Di(r){return r?Qr(Ma,v(function(r,n){return{a:Kr(ef,r,n.a),b:Kr(fe,r,n.b)}}),{a:1e4,b:0},Kr(Ee,function(r){return r.a},Ci(af))):{a:1,b:115}}function Gi(r){if(!r.$){var n=r.b,a=Di(r.a),e=a.b;return-1<C(n,a.a)&&C(n,e)<1}}function Ti(r){return r.b?ma(Qr(Ma,fe,r.a,r.b)):ya}function xi(r){return Kr(St,function(r){return!r.ar},r.bG)?en(r,{bG:(e=(a=Ti(Kr(Ee,function(r){return r.ar},n=r.bG))).$?0:a.a,Qr(of,n,e,tn).b)}):r;var n,a,e}function Ri(r){return r<0?-r:r}function ji(r){var a=function(){switch(r.$){case 1:return Kr(At,r.a,tn);case 8:return r.a.$?{$:8,a:{$:1,a:0}}:{$:8,a:{$:0,a:Qt}};default:return r}}();return pi(sa(Kr(xo,v(function(r,n){return an(n,a)}),sf)))}function Ai(r){var n=r.b,a=Kr(df,function(r){return Ha(r.cn)+("x"+Ha(r.co))},n.bJ);return en(r,{b:en(n,{bG:Kr(df,function(r){return R((n=r.aa,Qr(Ma,v(function(r,n){return r+"|"+n}),"",Kr(Ee,function(r){var n=r.b;return Ha(r.a)+("x"+Ha(n))},n))),Kr(Ft,"",ji(r.bP)));var n},n.bG),bJ:a})})}function Si(r){if(1===r.$)return 4===r.a?2:1;switch(r.a){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return 6;case 8:return 4;case 9:case 10:return 6;case 11:return 10;case 12:return 6;case 13:return 10;case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:return 6;case 23:case 24:case 25:return 10;case 26:return 6;case 27:return 4;case 28:case 29:case 30:case 31:case 32:return 6;case 33:case 34:case 35:return 4;case 36:default:return 10}}function Ei(r){return Qr(Se,ko,tn,r)}function Yi(r){return r.b?Qr(mf,r,tn,0):te}function Bi(r){return Ei(Ca(Kr(Pf,Cf(r),function(r){var n=un([Yi(un([!0,!0,!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!0]))]),a=un([Yi(un([!1,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!1])),Yi(un([!1,!0,!0,!0,!0,!1]))]),e=un([Yi(un([!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0]))]),t=un([Yi(un([!1,!1,!0,!0,!0,!0,!1,!1])),Yi(un([!1,!0,!0,!0,!0,!0,!1,!1])),Yi(un([!1,!0,!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!1,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!1,!1,!0,!0,!0])),Yi(un([!0,!0,!1,!1,!1,!0,!0,!1]))]),u=un([Yi(un([!0,!0,!0,!0,!0,!1,!1,!1])),Yi(un([!0,!0,!0,!0,!1,!1,!1,!1])),Yi(un([!0,!0,!0,!0,!1,!1,!1,!1])),Yi(un([!1,!1,!1,!1,!1,!1,!1,!1])),Yi(un([!1,!1,!1,!1,!1,!1,!1,!1])),Yi(un([!1,!1,!1,!1,!1,!1,!1,!1])),Yi(un([!1,!1,!1,!1,!1,!1,!1,!1]))]),c=un([Yi(un([!1,!1,!1,!1,!1,!1,!1,!1])),Yi(un([!1,!1,!1,!1,!0,!0,!1,!1])),Yi(un([!1,!1,!1,!1,!0,!0,!0,!1])),Yi(un([!1,!1,!1,!1,!0,!0,!0,!1])),Yi(un([!1,!1,!1,!1,!1,!0,!0,!0])),Yi(un([!1,!1,!1,!1,!1,!0,!1,!1])),Yi(un([!1,!1,!1,!1,!1,!1,!1,!1]))]),i=un([Yi(un([!1,!1,!1,!1,!1,!1,!0,!1])),Yi(un([!1,!1,!1,!1,!1,!0,!0,!0])),Yi(un([!1,!1,!1,!1,!1,!0,!0,!0])),Yi(un([!1,!1,!1,!1,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0,!1,!1])),Yi(un([!0,!0,!0,!0,!0,!1,!1,!1]))]),o=un([Yi(un([!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0]))]),f=un([Yi(un([!1,!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!0,!0])),Yi(un([!1,!1,!1,!0,!0,!1,!1])),Yi(un([!1,!1,!0,!0,!0,!1,!1])),Yi(un([!1,!1,!1,!0,!0,!1,!1])),Yi(un([!1,!1,!0,!0,!0,!1,!1])),Yi(un([!1,!1,!1,!0,!0,!1,!1]))]),b=un([Yi(un([!0,!0,!0,!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0,!0,!0,!0]))]),s=un([Yi(un([!0,!0,!0])),Yi(un([!0,!0,!1])),Yi(un([!0,!0,!0])),Yi(un([!0,!0,!1])),Yi(un([!0,!0,!0])),Yi(un([!0,!0,!1])),Yi(un([!0,!0,!0])),Yi(un([!0,!0,!1])),Yi(un([!0,!0,!0]))]),l=un([Yi(un([!1,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0])),Yi(un([!1,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!0])),Yi(un([!1,!0,!0,!0,!0]))]),d=un([Yi(un([!1,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0])),Yi(un([!0,!0,!0,!0,!1])),Yi(un([!1,!0,!0,!0,!1]))]),v=un([Yi(un([!1,!0,!0,!1])),Yi(un([!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0])),Yi(un([!0,!0,!0,!1]))]),$=un([Yi(un([!0,!0,!0,!0])),Yi(un([!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0])),Yi(un([!0,!0,!0,!1]))]),h=un([Yi(un([!1,!1,!1,!1,!1])),Yi(un([!0,!0,!0,!0,!1])),Yi(un([!0,!0,!0,!0,!0])),Yi(un([!1,!1,!1,!1,!1]))]);return Yi(function(){switch(r){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return h;case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return $;case 16:case 17:case 18:case 19:return v;case 20:case 21:case 22:case 23:return d;case 24:case 25:return l;case 26:case 27:return s;case 28:case 29:case 30:case 31:return b;case 32:case 33:case 34:case 35:case 36:case 37:return f;case 38:case 39:case 40:case 41:return o;case 42:return i;case 43:return Xa(i);case 44:return c;case 45:return u;case 46:return i;case 47:return Xa(i);case 48:case 49:case 50:case 51:return t;case 52:case 53:case 54:case 55:case 56:case 57:return e;case 58:case 59:return a;case 60:case 61:return n;default:return un([Yi(un([!0]))])}}())}(r))))}function _i(r){var n=r.c;return{a:r.a+((n-(1&n))/2|0),b:n}}function Li(r){var n=r.b,a=r.a-((n-(1&n))/2|0);return{a:a,b:-a-n,c:n}}function Oi(a){var r=pi(Ga(Kr(xo,v(function(r,n){return an(n,a)}),Mt)));return Kr(yu,function(r){return r.a},r)}function Hi(r){var n=r.a,a=277803737*(n^n>>>4+(n>>>28));return(a>>>22^a)>>>0}function Ii(a){var r=pi(Ga(Kr(xo,v(function(r,n){return an(n,a)}),yc)));return Kr(yu,function(r){return r.a},r)}function Ji(r){return Kr(Ee,function(r){return Kr(Ft,"",r)},Kr(ec,function(r){return!an(r,ya)},Kr(Ee,Oi,r)))}function Mi(r){if(r.$){var n=r.a;return un([{a:"subType",b:Uo("coin")},{a:"amount",b:Qo(n)}])}var a=r.a;return un([{a:"subType",b:Uo("chest")},{a:"id",b:Uo(function(r){switch(r.$){case 0:return Ha(r.a);case 1:return"goal";default:return"locked"}}(a))}])}function Wi(r){r:for(;;)switch(r){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:r=r;continue r}}function Ui(r){return ob(r<0?Kr(wa,"-",Kr(bb,tn,-r)):Kr(bb,tn,r))}function Fi(r){return"#"+(Qr(ib,2,"0",Ui(r.aS))+(Qr(ib,2,"0",Ui(r.aK))+Qr(ib,2,"0",Ui(r.aB))))}function Ni(r){return un([{a:"ref",b:function(r){switch(r.$){case 0:var n=r.a;return mi(un([{a:"type",b:Uo("difficult-terrain")},{a:"subType",b:Uo(function(r){switch(r){case 0:return"log";case 1:return"rubble";case 2:return"stairs";case 3:return"stairs-vert";default:return"water"}}(n))}]));case 1:if(2===r.a.$){var a=r.a,e=a.a,t=a.b,u=r.b;return mi(un([{a:"type",b:Uo("door")},{a:"subType",b:Uo("corridor")},{a:"material",b:Uo(function(r){switch(r){case 0:return"dark";case 1:return"earth";case 2:return"manmade-stone";case 3:return"natural-stone";case 4:return"pressure-plate";default:return"wood"}}(e))},{a:"size",b:Qo(t?2:1)},{a:"links",b:Kr(Vo,Uo,Ji(u))}]))}var c=r.a,u=r.b;return mi(un([{a:"type",b:Uo("door")},{a:"subType",b:Uo(function(r){switch(r.$){case 0:return"altar";case 5:return"stone";case 6:return"wooden";case 1:return"breakable-wall";case 2:return"corridor";case 3:return"dark-fog";default:return"light-fog"}}(c))},{a:"links",b:Kr(Vo,Uo,Ji(u))}]));case 2:var i=r.a;return mi(un([{a:"type",b:Uo("hazard")},{a:"subType",b:Uo(i?"thorns":"hot-coals")}]));case 3:var o=r.a;return mi(un([{a:"type",b:Uo("highlight")},{a:"colour",b:Uo(Fi(o))}]));case 4:var f=r.a;return mi(un([{a:"type",b:Uo("obstacle")},{a:"subType",b:Uo(function(r){switch(r){case 0:return"altar";case 1:return"barrel";case 2:return"bookcase";case 3:return"boulder-1";case 4:return"boulder-2";case 5:return"boulder-3";case 6:return"bush";case 7:return"cabinet";case 8:return"crate";case 9:return"crystal";case 10:return"dark-pit";case 11:return"fountain";case 12:return"mirror";case 13:return"nest";case 14:return"pillar";case 15:return"rock-column";case 16:return"sarcophagus";case 17:return"shelf";case 18:return"stalagmites";case 19:return"stump";case 20:return"table";case 21:return"totem";case 22:return"tree-3";default:return"wall-section"}}(f))}]));case 5:return mi(un([{a:"type",b:Uo("rift")}]));case 6:return mi(un([{a:"type",b:Uo("starting-location")}]));case 7:var b=r.a;return mi(un([{a:"type",b:Uo("trap")},{a:"subType",b:Uo(function(r){switch(r){case 0:return"bear";case 2:return"spike";default:return"poison"}}(b))}]));case 8:b=r.a;return mi(Kr(wa,{a:"type",b:Uo("treasure")},Mi(b)));case 9:b=r.a;return mi(un([{a:"type",b:Uo("token")},{a:"value",b:Uo(b)}]));default:var s=r.a;return mi(un([{a:"type",b:Uo("wall")},{a:"subType",b:Uo(function(r){switch(r){case 0:return"huge-rock";case 1:return"iron";case 2:return"large-rock";case 3:return"obsidian-glass";default:return"rock"}}(s))}]))}}(r.bP)},{a:"id",b:Qo(r.ar)},{a:"direction",b:Uo(function(r){switch(r){case 0:return"default";case 4:return"diagonal-left";case 5:return"diagonal-right";case 6:return"diagonal-left-reverse";case 7:return"diagonal-right-reverse";case 1:return"horizontal";case 2:return"vertical";default:return"vertical-reverse"}}(r.aH))},{a:"cells",b:Kr(Vo,Vo(Qo),Kr(Ee,function(r){return un([r.a,r.b])},r.aa))}])}function zi(r){switch(r.$){case 0:return tn;case 1:var n=r.a;return un([{a:"type",b:Uo("player")},{a:"class",b:Uo(Kr(Ft,"",Ii(n)))}]);default:if(1===r.a.$)return e=r.a.a,t=function(){if(e.$)return un([{a:"id",b:Uo("bear")}]);var r=e.b;return un([{a:"id",b:Qo(e.a)},{a:"colour",b:Uo(Fi(r))}])}(),Kr(wa,{a:"type",b:Uo("summons")},t);var a=r.a.a;return un([{a:"type",b:Uo("monster")},{a:"class",b:Uo(Kr(Ft,"",gi(a.n)))},{a:"id",b:Qo(a.ar)},{a:"level",b:Uo(function(r){switch(r){case 1:return"normal";case 2:return"elite";default:return"none"}}(a.bq))},{a:"wasSummoned",b:Xo(a.dX)},{a:"outOfPhase",b:Xo(a.dq)}])}var e,t}function Xi(r){return un([{a:"ref",b:mi(zi(r.bP))},{a:"x",b:Qo(r.cn)},{a:"y",b:Qo(r.co)}])}function qi(r){return mi(un([{a:"scenario",b:mi(function(r){if(r.$)return un([{a:"custom",b:Uo(r.a)}]);var n=r.b;return un([{a:"expansion",b:Uo(r.a?"solo":"gloomhaven")},{a:"id",b:Qo(n)}])}(r.b2))},{a:"players",b:Kr(Vo,mi,Kr(Ee,function(r){return un([{a:"class",b:Uo(r)}])},Kr(Mu,Ii,r.ay)))},{a:"updateCount",b:Qo(r.dU)},{a:"visibleRooms",b:Kr(Vo,Uo,Ji(r.ak))},{a:"overlays",b:Kr(Vo,mi,Kr(Ee,Ni,r.bG))},{a:"pieces",b:Kr(Vo,mi,Kr(Ee,Xi,r.bJ))},{a:"availableMonsters",b:Kr(Vo,mi,Kr(Ee,function(r){var n=r.b;return un([{a:"ref",b:Uo(r.a)},{a:"bucket",b:Kr(Vo,Qo,Ca(n))}])},Ga(r.v)))},{a:"roomCode",b:Uo(r.bY)}]))}function Vi(r){return mi(un([{a:"appMode",b:Uo(function(r){switch(r){case 0:return"game";case 1:return"scenarioDialog";case 2:return"ConfigDialog";default:return"playerChoiceDialog"}}(r.a_))},{a:"gameMode",b:Uo(function(r){switch(r){case 0:return"movePiece";case 1:return"killPiece";case 2:return"moveOverlay";case 3:return"destroyOverlay";case 4:return"lootCell";case 5:return"revealRoom";default:return"addPiece"}}(r.bg))},{a:"roomCode",b:(t=r.bY).$?ct:Uo(t.a)},{a:"summonsColour",b:Uo(r.ce)},{a:"showRoomCode",b:Xo(r.b7)},{a:"envelopeX",b:Xo(r.bd)},{a:"boardOnly",b:Xo(r.a0)},{a:"campaignTracker",b:(e=r.aC).$?ct:mi((a=(n=e.a).b,un([{a:"name",b:Uo(n.a)},{a:"url",b:Uo(a)}])))},{a:"tutorialStep",b:Qo(r.cl)}]));var n,a,e,t}function Ki(r){return function(r){return Kr(St,function(r){return 44===r},r.ak)&&Kr(St,function(r){return 43===r},r.ak)?en(r,{bG:Kr(jb,un([{a:4,b:11},{a:5,b:10},{a:4,b:9}]),r.bG)}):r}(function(r){return Kr(St,function(r){return 44===r},r.ak)&&Kr(St,function(r){return 45===r},r.ak)?en(r,{bG:Kr(jb,un([{a:9,b:10},{a:8,b:9},{a:8,b:8}]),r.bG)}):r}(r))}function Qi(r){return{$:14,a:r}}function Zi(r){return{$:30,a:r}}function ro(r){return{$:56,a:r}}function no(r){return{$:48,a:r}}function ao(r){return{$:49,a:r}}function eo(r){return{$:50,a:r}}function to(r){return{$:51,a:r}}function uo(r){return{a:R(r.a?"w_":"d_",r.b),b:r}}var co=Jr("Http"),io=(Jr("Http"),v(function(r,n){var a="/data/scenarios/"+function(){if(r.$||1!==r.a)return"";return"solo/"}(),e=r.$?0:r.b;return li({cM:Kr(ri,n,Uu),dV:a+Ha(e)+".json"})})),oo={$:36},fo=v(function(r,n){return{$:27,a:r,b:n}}),bo={$:2},so={$:8},lo={$:9},vo=v(function(r,n){return{$:6,a:r,b:n}}),$o=v(function(r,n){return{$:7,a:r,b:n}}),ho=l(function(r,n,a){return{a4:n,bP:r,cg:a}}),po=v(function(r,n){return{$:0,a:r,b:n}}),go={$:2},mo=v(function(r,n){return{$:54,a:r,b:n}}),yo={$:35},wo={$:47},ko=v(function(r,n){return n.b?Qr(Se,wa,n,r):r}),Po=4294967295>>>32-ee,Co=f,Do=l(function(r,n,a){for(;;){var e=Kr(Co,Po&n>>>r,a);if(e.$)return Kr(Co,Po&n,e.a);r=r-ee,n=n,a=e.a}}),Go=v(function(r,n){var a=n.a,e=n.b,t=n.c,u=n.d;return r<0||-1<C(r,a)?ya:-1<C(r,a>>>5<<5)?ma(Kr(Co,Po&r,u)):ma(Qr(Do,e,r,t))}),To=l(function(r,n,a){for(;;){if(-2===a.$)return n;var e=a.e,t=r,u=Qr(r,a.b,a.c,Qr(To,r,n,a.d));r=t,n=u,a=e}}),xo=v(function(e,r){return Qr(To,l(function(r,n,a){return Kr(e,r,n)?Qr(Jt,r,n,a):a}),_t,r)}),Ro=w,jo=y,Ao=v(function(r,n){var a=oe(r),e=32-oe(n.g)-a,t=Qr(Ro,32,n.g,r);return e<0?{h:Kr(wa,{$:1,a:t},n.h),e:n.e+1,g:Qr(jo,e,a,r)}:e?{h:n.h,e:n.e,g:t}:{h:Kr(wa,{$:1,a:t},n.h),e:n.e+1,g:re}}),So=v(function(r,n){r:for(;;){if(0<r){if(n.b){r=r-1,n=n.b;continue r}return n}return n}}),Eo=v(function(r,n){var a=n.a,e=n.c,t=n.d;if(r){if(-1<C(r,a>>>5<<5))return Zr(Za,a-r,ee,re,Qr(jo,r-(a>>>5<<5),oe(t),t));var u=r/32|0,c=v(function(r,n){return r.$?Kr(wa,r.a,n):Qr(ka,c,n,r.a)}),i=Qr(ka,c,un([t]),e),o=Kr(So,u,i);if(o.b){var f=o.a,b=o.b,s={h:tn,e:0,g:Qr(jo,r-32*u,oe(f),f)};return Kr(de,!0,Qr(Ma,Ao,s,b))}return te}return n}),Yo=b(function(r,n,a,e){for(;;){var t=Kr(Co,Po&a>>>r,e);if(t.$)return Qr(jo,0,Po&n,t.a);r=r-ee,n=n,a=a,e=t.a}}),Bo=l(function(r,n,a){for(;;){if(C(r,n)<1||!oe(a))return a;var e=Kr(Co,0,a);if(e.$)return a;r=r-ee,n=n,a=e.a}}),_o=s,Lo=l(function(r,n,a){var e=Po&n>>>r,t=Kr(Co,e,a);if(t.$)return Qr(jo,0,e,a);var u=Qr(Lo,r-ee,n,t.a);return oe(u)?Qr(_o,e,{$:0,a:u},Qr(jo,0,1+e,a)):Qr(jo,0,e,a)}),Oo=v(function(r,n){var a=n.a,e=n.b,t=n.c,u=n.d;if(an(r,a))return n;if(-1<C(r,a>>>5<<5))return Zr(Za,r,e,t,Qr(jo,0,Po&r,u));var c=r>>>5<<5,i=ie(Kr(ae,32,Kr(fe,1,c-1))),o=Kr(fe,5,i*ee);return Zr(Za,r,o,Qr(Bo,e,o,Qr(Lo,e,c,t)),Zr(Yo,e,r,c,t))}),Ho=v(function(r,n){var a=n.a,e=r<0?a+r:r;return e<0?0:0<C(e,a)?a:e}),Io=l(function(r,n,a){var e=Kr(Ho,n,a),t=Kr(Ho,r,a);return 0<C(t,e)?te:Kr(Eo,t,Kr(Oo,e,a))}),Jo=v(function(r,n){var a=n.bP;if(2!==a.$||a.a.$)return{a:n,b:r};var e=a.a.a,t=gi(e.n);if(t.$)return{a:en(n,{bP:{$:2,a:{$:0,a:en(e,{ar:0})}}}),b:r};var u=t.a,c=Kr(Wt,u,r);if(c.$)return{a:en(n,{bP:{$:2,a:{$:0,a:en(e,{ar:0})}}}),b:r};var i=c.a,o=Kr(Go,0,i);return o.$?{a:en(n,{bP:{$:2,a:{$:0,a:en(e,{ar:0})}}}),b:r}:{a:en(n,{bP:{$:2,a:{$:0,a:en(e,{ar:o.a+1})}}}),b:Qr(Jt,u,Qr(Io,1,hi(i),i),r)}}),Mo=Tr,Wo=v(function(r,n){return Qe(Kr(Mo,Kr(Et,Kr(Et,Re,r),ja),Kr(Ye,Kr(Et,Kr(Et,Re,r),Ya),n)))}),Uo=kr,Fo=qr("dragover",function(r){return mi(un([{a:"dropEffect",b:Uo(r.cJ)},{a:"event",b:r.be}]))}),No=qr("dragstart",function(r){return mi(un([{a:"effectAllowed",b:Uo(r.cK)},{a:"event",b:r.be}]))}),zo=v(function(r,n){return Kr(Ze,n,function(r){return{$:2,b:function(n){(fa=document.createElement("input")).type="file",fa.accept=Kr(Ia,",",r),fa.addEventListener("change",function(r){n({$:0,a:r.target.files[0]})}),ba(fa)},c:null}}(r))}),Xo=kr,qo=kr,Vo=v(function(r,n){return Qr(Ma,function(a){return v(function(r,n){return n.push(a(r)),n})}(r),[],n)}),Ko=qr("getCellFromPoint",function(r){var n=r.b,a=r.c;return Kr(Vo,pa,un([qo(r.a),qo(n),Xo(a)]))}),Qo=kr,Zo=qr("getContextPosition",function(r){var n=r.b;return Kr(Vo,pa,un([Qo(r.a),Qo(n)]))}),rf=function(r){return ea(r,function(r){var n=r.getBoundingClientRect(),a=ra.pageXOffset,e=ra.pageYOffset;return{b5:ta(),cm:{cn:a,co:e,dY:Zn.documentElement.clientWidth,cT:Zn.documentElement.clientHeight},aq:{cn:a+n.left,co:e+n.top,dY:n.width,cT:n.height}}})},nf=e(function(r,n,a,e,t,u){return{a0:e,bd:u,t:t,bY:r,b7:a,ce:n}}),af=Ie(un([{a:"brute",b:{a:1,b:"Return to Black Barrow"}},{a:"tinkerer",b:{a:2,b:"An Unfortunate Intrusion"}},{a:"scoundrel",b:{a:4,b:"Armory Heist"}},{a:"cragheart",b:{a:5,b:"Stone Defense"}},{a:"mindthief",b:{a:6,b:"Rodent Liberation"}},{a:"spellweaver",b:{a:3,b:"Corrupted Laboratory"}},{a:"diviner",b:{a:18,b:"Forecast of the Inevitable"}},{a:"phoenix-face",b:{a:17,b:"The Caged Bear"}},{a:"lightning-bolt",b:{a:8,b:"Unnatural Insults"}},{a:"angry-face",b:{a:14,b:"Corrupted Hunt"}},{a:"triforce",b:{a:16,b:"Elemental Secrets"}},{a:"eclipse",b:{a:11,b:"Harvesting the Night"}},{a:"cthulhu",b:{a:12,b:"Plagued Crypt"}},{a:"three-spears",b:{a:9,b:"Storage Fees"}},{a:"saw",b:{a:15,b:"Aftermath"}},{a:"music-note",b:{a:13,b:"Battle of the Bards"}},{a:"concentric-circles",b:{a:10,b:"Plane of Wild Beasts"}},{a:"sun",b:{a:7,b:"Caravan Escort"}}])),ef=v(function(r,n){return C(r,n)<0?r:n}),tf={$:0},uf=l(function(r,n,a){r:for(;;){var e=Kr(ec,function(r){return 6===r.bP.$},a);if(r.b){var t=r.a,u=r.b;if(e.b){var c=e.b,i=pi(e.a.aa);if(i.$)return n;var o=i.a;r=u,n=Kr(wa,Qr(Cc,{$:1,a:t},o.a,o.b),n),a=c;continue r}return n}return n}}),cf=v(function(r,n){var a=n.b,e=Kr(ec,function(r){return 6===r.bP.$},a.bG);return en(n,{b:en(a,{bJ:Qr(uf,r,Kr(ec,function(r){var n=r.bP;return 2===n.$&&!n.a.$},a.bJ),e),ay:r})})}),of=l(function(r,n,a){for(;;){if(!r.b)return{a:n,b:a};var e,t=r.a,u=r.b;t.ar?(r=u,n=n,a=Kr(wa,t,a)):(r=u,n=e=n+1,a=Kr(wa,en(t,{ar:e}),a))}}),ff=v(function(r,n){return{aR:n,X:r}}),bf=v(function(r){return r}),sf=Ie(un([{a:"door-altar",b:Kr(At,wt,tn)},{a:"door-stone",b:Kr(At,Dt,tn)},{a:"door-wooden",b:Kr(At,Gt,tn)},{a:"door-dark-fog",b:Kr(At,Pt,tn)},{a:"door-light-fog",b:Kr(At,Ct,tn)},{a:"door-breakable-wall",b:Kr(At,kt,tn)},{a:"corridor-dark-1",b:Kr(At,Kr(Tt,0,0),tn)},{a:"corridor-earth-1",b:Kr(At,Kr(Tt,1,0),tn)},{a:"corridor-manmade-stone-1",b:Kr(At,Kr(Tt,2,0),tn)},{a:"corridor-natural-stone-1",b:Kr(At,Kr(Tt,3,0),tn)},{a:"corridor-pressure-plate-1",b:Kr(At,Kr(Tt,4,0),tn)},{a:"corridor-wood-1",b:Kr(At,Kr(Tt,5,0),tn)},{a:"corridor-dark-2",b:Kr(At,Kr(Tt,0,1),tn)},{a:"corridor-earth-2",b:Kr(At,Kr(Tt,1,1),tn)},{a:"corridor-manmade-stone-2",b:Kr(At,Kr(Tt,2,1),tn)},{a:"corridor-natural-stone-2",b:Kr(At,Kr(Tt,3,1),tn)},{a:"corridor-wood-2",b:Kr(At,Kr(Tt,5,1),tn)},{a:"difficult-terrain-log",b:{$:0,a:0}},{a:"difficult-terrain-rubble",b:{$:0,a:1}},{a:"difficult-terrain-stairs",b:{$:0,a:2}},{a:"difficult-terrain-stairs-vert",b:{$:0,a:3}},{a:"difficult-terrain-water",b:{$:0,a:4}},{a:"hazard-hot-coals",b:{$:2,a:0}},{a:"hazard-thorns",b:{$:2,a:1}},{a:"obstacle-altar",b:{$:4,a:0}},{a:"obstacle-barrel",b:{$:4,a:1}},{a:"obstacle-bookcase",b:{$:4,a:2}},{a:"obstacle-boulder-1",b:{$:4,a:3}},{a:"obstacle-boulder-2",b:{$:4,a:4}},{a:"obstacle-boulder-3",b:{$:4,a:5}},{a:"obstacle-bush",b:{$:4,a:6}},{a:"obstacle-cabinet",b:{$:4,a:7}},{a:"obstacle-crate",b:{$:4,a:8}},{a:"obstacle-crystal",b:{$:4,a:9}},{a:"obstacle-dark-pit",b:{$:4,a:10}},{a:"obstacle-fountain",b:{$:4,a:11}},{a:"obstacle-mirror",b:{$:4,a:12}},{a:"obstacle-nest",b:{$:4,a:13}},{a:"obstacle-pillar",b:{$:4,a:14}},{a:"obstacle-rock-column",b:{$:4,a:15}},{a:"obstacle-sarcophagus",b:{$:4,a:16}},{a:"obstacle-shelf",b:{$:4,a:17}},{a:"obstacle-stalagmites",b:{$:4,a:18}},{a:"obstacle-stump",b:{$:4,a:19}},{a:"obstacle-table",b:{$:4,a:20}},{a:"obstacle-totem",b:{$:4,a:21}},{a:"obstacle-tree-3",b:{$:4,a:22}},{a:"obstacle-wall-section",b:{$:4,a:23}},{a:"rift",b:ht},{a:"starting-location",b:pt},{a:"token-a",b:{$:9,a:"a"}},{a:"token-b",b:{$:9,a:"b"}},{a:"token-c",b:{$:9,a:"c"}},{a:"token-d",b:{$:9,a:"d"}},{a:"token-e",b:{$:9,a:"e"}},{a:"token-f",b:{$:9,a:"f"}},{a:"token-1",b:{$:9,a:"1"}},{a:"token-2",b:{$:9,a:"2"}},{a:"token-3",b:{$:9,a:"3"}},{a:"token-4",b:{$:9,a:"4"}},{a:"token-5",b:{$:9,a:"5"}},{a:"token-6",b:{$:9,a:"6"}},{a:"trap-bear",b:{$:7,a:0}},{a:"trap-spike",b:{$:7,a:2}},{a:"trap-poison",b:{$:7,a:1}},{a:"treasure-chest",b:{$:8,a:{$:0,a:Qt}}},{a:"treasure-coin",b:{$:8,a:{$:1,a:0}}},{a:"wall-huge-rock",b:{$:10,a:0}},{a:"wall-iron",b:{$:10,a:1}},{a:"wall-large-rock",b:{$:10,a:2}},{a:"wall-obsidian-glass",b:{$:10,a:3}},{a:"wall-rock",b:{$:10,a:4}}])),lf=b(function(r,n,a,e){for(;;){if(!a.b)return Xa(e);var t=a.a,u=a.b,c=r(t);Kr(tc,c,n)?(r=r,n=n,a=u,e=e):(r=r,n=Kr(wa,c,n),a=u,e=Kr(wa,t,e))}}),df=v(function(r,n){return Zr(lf,r,tn,n,tn)}),vf=v(function(r,n){return n.$?ya:r(n.a)}),$f=v(function(r,n){var a=n.a;return Kr(vf,function(r){return Kr(yu,function(r){return r.X},Kr(Go,a,r))},Kr(Go,n.b,r))}),hf=b(function(r,n,a,e){return{c3:n,c4:e,bt:r,ad:a}}),pf=u(function(r,n,a,e,t,u,c,i){return{aL:i,$7:t,dp:u,aR:c,bP:r,dR:e,cn:n,co:a}}),gf=v(function(e,r){return Kr(Ee,function(r){var n=r.a,a=r.b;return h(pf,e.bP,n,a,e.dR,n,a,!0,!0)},Qr(Ma,La,tn,Kr(Ee,function(r){return r.aa},r)))}),mf=l(function(r,n,a){for(;;){var e=Kr(be,32,r),t=e.a,u=e.b;if(C(oe(t),32)<0)return Kr(de,!0,{h:n,e:a,g:t});r=u,n=Kr(wa,{$:1,a:t},n),a=a+1}}),yf=b(function(r,n,a,e){return h(pf,r,a,n,0,a,n,e,!0)}),wf=p,kf=m,Pf=v(function(a,r){var n=r.c,e={h:tn,e:0,g:Qr(kf,a,r.a>>>5<<5,r.d)},t=v(function(r,n){return r.$?{h:Kr(wa,{$:1,a:Qr(kf,a,32*n.e,r.a)},n.h),e:n.e+1,g:n.g}:Qr(wf,t,n,r.a)});return Kr(de,!0,Qr(wf,t,e,n))}),Cf=l(function(r,n,a){return Ca(Kr(Pf,Kr(yf,r,n),a))}),Df=v(function(r,n){var a=Li(n),e=a.a,t=a.b,u=a.c,c=Li(r),i={a:-(c.c-u),b:-(c.a-e),c:-(c.b-t)};return _i({a:i.a+e,b:i.b+t,c:i.c+u})}),Gf=l(function(r,n,a){r:for(;;){var e=Kr(Df,r,n);switch(a){case 0:return r;case 1:return e;default:var t=a;if(t<0){r=e,n=n,a=t+1;continue r}r=e,n=n,a=t-1;continue r}}}),Tf=b(function(r,n,a,e){var t=Li(e),u=Li(n),c=Li(a),i=_i({a:t.a-c.a+u.a,b:t.b-c.b+u.b,c:t.c-c.c+u.c});return Qr(Gf,i,n,r)}),xf=b(function(r,n,a,e){var t=Zr(Tf,r,n,a,{a:e.cn,b:e.co});return en(e,{dR:r,cn:t.a,co:t.b})}),Rf=a(function(r,n,a,e,t){var u=t.c,c=t.d,i=t.e,o=Zr(Tf,e,n,a,u);return Kr(ko,un([h(pf,r,o.a,o.b,e,u.a,u.b,!0,!0)]),Kr(jf,i,ma({a:o,b:c})).a)}),jf=v(function(r,n){var a=function(){if(n.$)return{a:{a:0,b:0},b:{a:0,b:0}};var r=n.a;return{a:r.a,b:r.b}}(),e=a.a,t=a.b,u=Ei(Kr(Ee,Zr(Rf,r.bP,e,t,r.dR),r.am)),c=Kr(Ee,Qr(xf,r.dR,e,t),R(Bi(r.bP),Kr(gf,r,r.bG))),i=R(c,u);return{a:i,b:Qr(Ma,v(function(r,n){return Zr(hf,Kr(ef,r.bt,n.bt),Kr(fe,r.c3,n.c3),Kr(ef,r.ad,n.ad),Kr(fe,r.c4,n.c4))}),Zr(hf,0,0,0,0),Kr(Ee,function(r){return Zr(hf,r.cn,r.cn,r.co,r.co)},i))}}),Af=v(function(r,n){return rn(Lt,1,r,n,Bt,Bt)}),Sf=v(function(r,n){return Qr(To,Jt,n,r)}),Ef=function(b){var r,n,s=(r=Ti(Kr(Ee,function(r){return r.ar},b.bG))).$?1:r.a+1,a=(n=Oi(b.bP)).$?_t:Kr(Af,n.a,{a:R(b.bG,Kr(Na,v(function(r,n){var a=n.a,e=n.b,t=n.c,u=t.a,c=t.b,i=n.e;if(2!==a.$||1!==a.b)return Zr(lt,Kr(At,a,un([b.bP,i.bP])),s+r,e,un([{a:u,b:c}]));var o=function(){switch(e){case 4:return 1;case 5:return 2;default:return 0}}(),f=Qr(Gf,{a:u+1,b:c},{a:u,b:c},o);return Zr(lt,Kr(At,a,un([b.bP,i.bP])),s+r,e,un([{a:u,b:c},f]))}),b.am)),b:b.bu});return Kr(Sf,a,Qr(Ma,v(function(r,n){return Kr(Sf,r,n)}),_t,Kr(Ee,function(r){return Ef(r.e)},b.am)))},Yf=v(function(a,c){return function(r){var n=C(a,c)<0?{a:a,b:c}:{a:c,b:a},e=n.a,t=n.b-e+1;if(t-1&t){var u=(-t>>>0)%t>>>0;return function(r){for(;;){var n=Hi(r),a=Au(r);if(0<=C(n,u))return{a:n%t+e,b:a};r=a}}(r)}return{a:((t-1&Hi(r))>>>0)+e,b:Au(r)}}}),Bf=d,_f=function(r){return[r]},Lf=b(function(r,n,a,e){var t=Po&n>>>r;if(-1<C(t,oe(e)))return Kr(Bf,5===r?{$:1,a:a}:c={$:0,a:Zr(Lf,r-ee,n,a,re)},e);var u=Kr(Co,t,e);if(u.$){var c={$:0,a:Zr(Lf,r-ee,n,a,_f(u))};return Qr(_o,t,c,e)}return Qr(_o,t,c={$:0,a:Zr(Lf,r-ee,n,a,u.a)},e)}),Of=v(function(r,n){var a=n.a,e=n.b,t=n.c,u=oe(n.d),c=oe(r),i=a+(c-u);if(an(c,32)){if(0<C(i>>>ee,1<<e)){var o=e+ee,f=Zr(Lf,o,a,r,_f({$:0,a:t}));return Zr(Za,i,o,f,re)}return Zr(Za,i,e,Zr(Lf,e,a,r,t),re)}return Zr(Za,i,e,t,r)}),Hf=v(function(r,n){return Kr(Of,Kr(Bf,r,n.d),n)}),If=v(function(r,n){return r(n)}),Jf=l(function(r,n,a){for(;;){if(!hi(a))return{a:r,b:n};var e=Kr(If,Kr(Yf,0,hi(a)-1),n),t=e.a,u=e.b,c=Ca(Qr(Io,0,t,a)),i=Ca(Qr(Io,t+1,hi(a),a)),o=Kr(Go,t,a);if(o.$)return{a:r,b:n};r=Kr(Hf,o.a,r),n=u,a=Yi(R(c,i))}}),Mf=l(function(r,n,a){for(;;){if(!a.b)return{a:n,b:r};var e=a.b,t=Kr(Jo,r,a.a);r=t.b,n=Kr(wa,t.a,n),a=e}}),Wf=l(function(a,r,n){var e=n.c,t=n.d,u=v(function(r,n){return Qr(wf,r.$?a:u,n,r.a)});return Qr(wf,a,Qr(wf,u,r,e),t)}),Uf=v(function(a,r){if(Kr(tc,a,r.b.ak))return r;var n,e,t=r.b,u=Kr(Ee,function(r){return r.b},Kr(ec,function(r){var n=r.a;return n.aR&&Kr(tc,a,n.X)},Ca(Qr(Wf,v(function(r,n){return Yi(R(Ca(r),Ca(n)))}),te,Kr(Pf,v(function(a,r){return Kr(Pf,v(function(r,n){return{a:n,b:{a:r,b:a}}}),r)}),r.D))))),c=Kr(Mu,function(r){var n=r.bP;if(2!==n.$||n.a.$)return ma(r);var a=n.a.a;return Kr(tc,{a:r.cn,b:r.co},u)&&!a.ar?ya:ma(r)},r.b.bJ),i=Kr(ec,function(r){return!an(r,a)},Qr(Ma,La,tn,Kr(Mu,function(r){var n=r.bP;if(1!==n.$||2!==n.a.$)return ya;return ma(n.b)},Kr(ec,function(r){var n=r.bP;return 1===n.$&&2===n.a.$&&(!!n.a.a&&Kr(tc,a,n.b))},r.b.bG)))),o=(e=(n=Qr(Mf,r.b.v,tn,Kr(Mu,function(r){var n=r.bP;if(2!==n.$||n.a.$)return ya;var a=n.a.a;return Kr(tc,{a:r.cn,b:r.co},u)&&!a.ar?ma(r):ya},r.b.bJ))).b,{a:Kr(Mu,function(r){var n=r.bP;return 2===n.$&&!n.a.$&&n.a.a.ar?ma(r):ya},n.a),b:e}),f=en(r,{b:en(t,{v:o.b,bJ:R(c,o.a),ak:Kr(wa,a,t.ak)})});return Kr(Ff,f,i)}),Ff=v(function(r,n){for(;;){if(!n.b)return r;var a=n.b;r=Kr(Uf,n.a,r),n=a}}),Nf={$:0},zf=l(function(r,n,a){return{dn:n,bP:r,dR:a}}),Xf=l(function(r,n,a){var e=a.aa;if(e.b){var t=e.a,u=t.b;return an(t.a,r)&&an(u,n)}return!1}),qf=v(function(r,n){return r<3?!!n.dS:r<4?!!n.dL:!!n.cS}),Vf=v(function(r,n){return r<3?n.dS:r<4?n.dL:n.cS}),Kf=v(function(r,n){if(n.$)return Qr(Cc,Nf,0,0);var a=n.a,e=a.n,t=Kr(Vf,r,a);return t?Qr(Cc,{$:2,a:{$:0,a:en(e,{bq:t})}},a.bl,a.bm):Qr(Cc,Nf,0,0)}),Qf=e(function(a,e,r,n,t,u){var c=Li({a:a,b:e}),i=Li({a:r,b:n}),o=i.a-c.a,f=i.b-c.b,b=i.c-c.c;return en(u,{aa:Kr(Ee,function(r){var n=Li(Qr(Gf,r,{a:a,b:e},t));return _i({a:o+n.a,b:f+n.b,c:b+n.c})},u.aa)})}),Zf=a(function(r,n,a,e,t){return en(t,{cn:a,co:e})}),rb=b(function(r,n,a,e){var t=Po&n>>>r,u=Kr(Co,t,e);return Qr(_o,t,u.$?{$:1,a:Qr(_o,Po&n,a,u.a)}:{$:0,a:Zr(rb,r-ee,n,a,u.a)},e)}),nb=l(function(r,n,a){var e=a.a,t=a.b,u=a.c,c=a.d;return r<0||-1<C(r,e)?a:-1<C(r,e>>>5<<5)?Zr(Za,e,t,u,Qr(_o,Po&r,n,c)):Zr(Za,e,t,Zr(rb,t,r,n,u),c)}),ab=e(function(t,u,r,n,c,i){var o=c.co-n,f=c.cn-r,a=t.b,b=Kr(Go,o,t.D),s=Kr(Ft,"",Oi(c.bP)),e=function(){var r=Kr(Wt,s,u);if(r.$)return{a:tn,b:Qr(Cc,Nf,0,0)};var n=r.a,a=n.a,e=n.b;return{a:Kr(Ee,rn(Qf,c.$7,c.dp,f,o,c.dR),Kr(ec,Kr(Xf,c.$7,c.dp),a)),b:rn(Zf,c.$7,c.dp,f,o,Kr(Kf,da(t.b.ay),pi(Kr(ec,function(r){return an(r.bl,c.$7)&&an(r.bm,c.dp)},Kr(ec,qf(da(t.b.ay)),e)))))}}(),l=e.a,d=e.b,v=Qr(Ma,La,tn,Kr(Mu,function(r){var n=r.bP;return 1!==n.$?ya:ma(n.b)},l)),$=function(){if(b.$)return t.D;var r=b.a,n=Kr(Go,f,r);if(n.$)return t.D;var a=n.a,e=en(a,{aR:!!a.aR||c.aR,X:Kr(df,function(r){return Kr(Ft,"",Oi(r))},Kr(wa,c.bP,R(v,a.X)))});return Qr(nb,o,Qr(nb,f,e,r),t.D)}(),h=function(){var r=d.bP;if(2!==r.$||r.a.$)return{a:ya,b:i};var n,a,e,t=r.a.a;return n=Qr(Jf,te,i,Kr($e,Si(t.n),pa)),a=n.a,e=n.b,{a:ma({a:Kr(Ft,"",gi(t.n)),b:a}),b:e}}(),p=h.a,g=h.b,m=en(a,{v:p.$?t.b.v:Ie(Kr(ec,function(r){return""!==r.a},Kr(wa,p.a,Ga(t.b.v)))),bG:R(t.b.bG,l),bJ:R(t.b.bJ,d.bP.$?un([d]):tn)}),y=c.$7||c.dp?{a:!1,b:t.b_}:{a:!0,b:Kr(wa,Qr(zf,c.bP,{a:f,b:o},c.dR),t.b_)},w=y.a,k=y.b;return c.aR||0<da(v)||w?{a:en(t,{b_:k,b:m,D:$}),b:g}:{a:en(t,{b6:g}),b:g}}),eb=e(function(r,n,a,e,t,u){for(;;){if(!r.b)return u;var c=r.b,i=$(ab,u,n,a,e,r.a,t);r=c,n=n,a=a,e=e,t=i.b,u=i.a}}),tb=a(function(r,n,a,e,t){var u=Ef(n.bs),c=Ie(Kr(Ee,function(r){return{a:r.a,b:Qr(Jf,te,t,r.b).a}},Kr(ec,function(r){return""!==r.a},Kr(Ee,function(r){return{a:Kr(Ft,"",gi(r)),b:Kr($e,Si(r),pa)}},n.cr)))),i=h(Xu,r,e,0,tn,tn,tn,c,a),o=Kr(jf,n.bs,ya),f=o.a,b=o.b,s=Kr(fe,Ri(b.c3-b.bt),Ri(b.c4-b.ad))+1+(1==(1&b.ad)?1:0),l=Kr($e,s,bf(Kr($e,s,bf(Kr(ff,tn,!1))))),d=Ai($(eb,f,u,b.bt,1==(1&b.ad)?b.ad-1:b.ad,t,rn(Ku,i,n,t,tn,l))),v=Kr(df,function(r){return Kr(Ft,"",Oi(r))},Qr(Ma,La,tn,Kr(Mu,$f(d.D),Qr(Ma,La,tn,Kr(Mu,function(r){return 6===r.bP.$?ma(r.aa):ya},d.b.bG)))));return Kr(Ff,d,v)}),ub=l(function(r,n,a){return 0<r?Qr(ub,r>>1,R(n,n),1&r?R(a,n):a):a}),cb=v(function(r,n){return Qr(ub,r,n,"")}),ib=l(function(r,n,a){return R(Kr(cb,r-Pe(a),We(n)),a)}),ob=function(r){return S(r).join("")},fb=L,bb=v(function(r,n){for(;;){if(n<16)return Kr(wa,Wi(n),r);r=Kr(wa,Wi(Kr(fb,16,n)),r),n=n/16|0}}),sb=qr("sendUpdate",function(r){var n=r.b;return Kr(Vo,pa,un([Uo(r.a),n]))}),lb=v(function(r,n){return sb({a:r,b:qi(en(n,{bY:r,dU:n.dU+1}))})}),db=qr("saveData",pa),vb=v(function(r,n){return db(mi(un([{a:"config",b:Vi((a=Kr(cc,n,r)).aD)},{a:"gameState",b:qi(a.aJ)}])));var a}),$b=_r,hb=l(function(r,n,a){return ut(Kr(wa,Kr(vb,n,r.aD),r.ab||an(r.aD.bY,ya)?un([Kr(Ze,function(){return{$:52,a:a}},$b(500))]):Kr(wa,Kr(lb,Kr(Ft,"",r.aD.bY),n),a?un([Kr(Ze,function(){return{$:46,a:r.a.b}},$b(100))]):tn)))}),pb=qr("scrollToFirtVisibleCell",function(){return ct}),gb=t(function(r,n,a,e,t,u,c){var i=cf(t.$?r.a.b.ay:t.a.ay)(rn(tb,e,c,n,r.a.b.ay,a)),o=xi(function(){if(t.$)return i.b;var r=t.a;return an(r.b2,e)?r:i.b}()),f=en(r,{x:tf,a:en(i,{b:en(o,{bY:r.a.b.bY,dU:r.a.b.dU})})});return{a:f,b:ut(un([Qr(hb,r,f.a.b,u),pb(0)]))}}),mb=Wr,yb=l(function(r,n,a){var e=r.a,t=r.b,u=a?tn:Kr(ec,function(r){var n=r.bP;switch(n.$){case 4:case 7:return!0;case 1:if(2!==n.a.$)return!0;return!1;default:return!1}},n.b.bG),c=Kr(Go,t,n.D);if(c.$)return!1;var i=Kr(Go,e,c.a);if(i.$)return!1;var o=i.a;return Kr(St,function(r){return Kr(tc,r,o.X)},n.b.ak)&&o.aR&&Kr(Yt,function(r){return!an(r.cn,e)||!an(r.co,t)},n.b.bJ)&&(a||Kr(Yt,function(r){return Kr(Yt,function(r){return!an(r,{a:e,b:t})},r.aa)},u))}),wb=a(function(n,a,e,r,t){var u,c=r.a,i=r.b,o=function(){if(a.$)return{a:0,b:0,c:0};var r=a.a;return Li({a:r.a,b:r.b})}(),f=o.a,b=o.b,s=o.c,l=function(){if(e.$)return{a:0,b:0,c:0};var r=Li(e.a);return{a:f-r.a,b:b-r.b,c:s-r.c}}(),d=l.a,v=l.b,$=l.c,h={a:(u=function(){if(a.$)return Li({a:c,b:i});var r=Li({a:c,b:i});return{a:r.a-f,b:r.b-b,c:r.c-s}}()).a+d,b:u.b+v,c:u.c+$},p=h.a,g=h.b,m=h.c;return{a:a.$?t:Kr(ec,function(r){return!an(r.ar,n.ar)},t),b:en(n,{aa:Kr(Ee,function(r){var n=Li(r);return _i({a:n.a+p,b:n.b+g,c:n.c+m})},n.aa)}),c:ma({a:c,b:i})}}),kb=a(function(r,n,a,e,t){var u=e.a,c=e.b,i=t.b,o=rn(wb,r,n,a,{a:u,b:c},t.b.bG),f=o.b,b=n.$?i:en(i,{bG:Kr(ec,function(r){return!an(r,f)},o.a)}),s=en(t,{b:b});return Kr(Yt,function(r){return Qr(yb,r,s,!0)},f.aa)?{a:en(t,{b:en(b,{bG:Kr(wa,f,b.bG)})}),b:f,c:ma({a:u,b:c})}:{a:t,b:r,c:a}}),Pb=v(function(r,n){return!an(r.bP,n.bP)}),Cb=b(function(n,a,r,e){var t=r.a,u=r.b,c=function(){if(a.$)return e;var r=a.a;return Kr(ec,Pb(en(n,{cn:r.a,co:r.b})),e)}(),i=en(n,{cn:t,co:u});return Kr(St,function(r){return an(r.cn,t)&&an(r.co,u)},c)?{a:e,b:n}:{a:Kr(wa,i,c),b:i}}),Db=b(function(r,n,a,e){var t=a.a,u=a.b,c=e.b,i=Zr(Cb,r,n,{a:t,b:u},e.b.bJ),o=i.a,f=i.b,b=function(){if(n.$)return c;return en(c,{bJ:Kr(ec,function(r){return!an(r,f)},o)})}();return Qr(yb,{a:t,b:u},en(e,{b:b}),!0)?{a:en(e,{b:en(b,{bJ:Kr(wa,f,b.bJ)})}),b:f}:{a:e,b:r}}),Gb=function(r){return r.name},Tb=ut(tn),xb=v(function(r,n){return{cJ:function(r){switch(r){case 0:return"none";case 1:return"move";case 2:return"copy";default:return"link"}}(r),be:n}}),Rb=v(function(t,r){var u=r.b,n=function(){var r=t.bP;if(2!==r.$||r.a.$)return u.v;var n=r.a.a,a=Kr(Ft,"",gi(n.n)),e=Kr(Wt,a,u.v);return Qr(Jt,a,e.$?Yi(un([n.ar-1])):Kr(Hf,n.ar-1,e.a),u.v)}(),a=function(){var r=t.bP;if(2!==r.$||r.a.$)return u.bG;if(r.a.a.dX)return u.bG;if(Kr(St,function(r){var n=r.bP;return 8===n.$&&1===n.a.$&&Kr(tc,{a:t.cn,b:t.co},r.aa)},u.bG))return Kr(Ee,function(r){var n=r.bP;if(8!==n.$||1!==n.a.$)return r;var a=n.a.a;return Kr(tc,{a:t.cn,b:t.co},r.aa)?en(r,{bP:{$:8,a:{$:1,a:a+1}}}):r},u.bG);var n,a=(n=Ti(Kr(Ee,function(r){return r.ar},u.bG))).$?0:n.a;return Kr(wa,Zr(lt,{$:8,a:{$:1,a:1}},a+1,0,un([{a:t.cn,b:t.co}])),u.bG)}(),e=Kr(ec,Pb(t),u.bJ);return en(r,{b:en(u,{v:n,bG:a,bJ:e})})}),jb=v(function(a,r){return Kr(Mu,function(r){if(Kr(St,function(n){return Kr(St,function(r){return an(r,n)},a)},r.aa)){var n=r.bP;if(1!==n.$||3!==n.a.$)return ma(r);return ya}return ma(r)},r)}),Ab=v(function(r,n){return{cK:(e={a:(a=r).bw,b:a.a5,c:a.br}).a?e.b?e.c?"all":"copyMove":e.c?"linkMove":"move":e.b?e.c?"copyLink":"copy":e.c?"link":"none",be:n};var a,e}),Sb=l(function(r,n,a){r:for(;;){if(0<r){if(n.b){var e=n.a;r=r-1,n=n.b,a=Kr(wa,e,a);continue r}return a}return a}}),Eb=v(function(r,n){return Xa(Qr(Sb,r,n,tn))}),Yb=l(function(r,n,a){if(0<n){var e={a:n,b:a};r:for(;;){n:for(;;){if(!e.b.b)return a;if(!e.b.b.b){if(1===e.a)break r;break n}switch(e.a){case 1:break r;case 2:var t=e.b;return un([t.a,t.b.a]);case 3:if(e.b.b.b.b){var u=e.b,c=u.b;return un([u.a,c.a,c.b.a])}break n;default:if(e.b.b.b.b&&e.b.b.b.b.b){var i=e.b,o=i.b,f=o.b,b=f.b,s=b.a,l=b.b;return Kr(wa,i.a,Kr(wa,o.a,Kr(wa,f.a,Kr(wa,s,1e3<r?Kr(Eb,n-4,l):Qr(Yb,r+1,n-4,l)))))}break n}}return a}return un([e.b.a])}return tn}),Bb=v(function(r,n){return Qr(Yb,0,r,n)}),_b=function(a){return{$:2,b:function(r){var n=new FileReader;return n.addEventListener("loadend",function(){r({$:0,a:n.result})}),n.readAsText(a),function(){n.abort()}},c:null}},Lb=qr("toggleFullscreenPort",Xo),Ob=function(r){return r.trim()},Hb=l(function(r,n,a){return a.$?r:n(a.a)}),Ib=qr("createRoom",function(r){return Qr(Hb,ct,Qo,r)}),Jb=v(function(r,n){var a=Kr(uc,Ac,n);if(a.$)return ya;var e=a.a;if(r.$)return ma(xi(e));var t=r.a;return 0<C(e.dU,t.dU)&&an(e.bY,t.bY)?ma(xi(e)):ya}),Mb=qr("joinRoom",function(r){var n=r.a,a=r.b;return Kr(Vo,pa,un([Qr(Hb,ct,Uo,n),Uo(a)]))}),Wb=b(function(r,n,a,e){switch(r.$){case 4:if(a.$)return{a:ya,b:Ib(n)};var t=a.a;return""===t.bY?{a:ya,b:Ib(n)}:{a:ya,b:Mb({a:ya,b:t.bY})};case 2:return{a:Kr(yu,function(r){return e(r)},Kr(Jb,a,r.a)),b:Tb};case 7:var u=r.a;return{a:Kr(yu,function(r){return e(en(r,{bY:u,dU:0}))},a),b:Tb};case 6:var u=r.a,c=Kr(yu,function(r){return r.bY},a);return{a:Kr(yu,function(r){return e(en(r,{bY:u,dU:0}))},a),b:Mb({a:c,b:u})};default:return{a:ya,b:Tb}}}),Ub=v(function(r,b){r:for(;;){var n,a=Kr(Ft,"",b.aD.bY);switch(r.$){case 0:case 1:var e=r.a,t=r.b,u=r.c,c=r.d;return(Nr=r.e).$?{a:en(b,{x:bo}),b:Tb}:nn(gb,b,a,e,t,u,c,Ur=Nr.a);case 2:r=x=Kr(fo,b.a.b.b2,!0),b=R=b;continue r;case 3:return{a:b,b:Kr(zo,un(["application/json"]),di)};case 4:var i=r.a;return{a:en(b,{I:ma({a:Gb(i),b:ya})}),b:Kr(Ze,$i,_b(i))};case 5:var o=r.a,f={a:wi(b),b:b.I};if(1!==f.a.$||f.b.$)return{a:b,b:Tb};var s=f.b.a.a;return{a:en(b,{S:ma({$:1,a:o}),I:ma({a:s,b:ma(Kr(Fu,Uu,o))})}),b:Tb};case 6:var l=r.a,d=r.b,v=function(){if(d.$)return Tb;var r=d.a;return No(Kr(Ab,r.a,r.b))}();return{a:en(b,{a6:ma(l)}),b:v};case 7:var $=r.a,h=r.b,p=b.a6;if(p.$)return{a:b,b:Tb};if(an((sr=p.a).cg,ma($)))return{a:b,b:Tb};var g=function(){var r=sr.bP;switch(r.$){case 0:var n=rn(kb,r.a,sr.a4,r.b,$,b.a),a=Kr(po,n.b,n.c),e=an(a,sr.bP)?sr.cg:ma($);return ma(Qr(ho,a,sr.a4,e));case 1:var t={$:1,a:Zr(Db,r.a,sr.a4,$,b.a).b},e=an(t,sr.bP)?sr.cg:ma($);return ma(Qr(ho,t,sr.a4,e));default:return ya}}(),v=function(){if(h.$)return Tb;var r=h.a;return Fo(Kr(xb,r.a,r.b))}();return{a:en(b,{a6:g}),b:v};case 8:return{a:en(b,{a6:ya}),b:Tb};case 9:var m=b.a,y=function(){var r=b.a6;if(r.$)return m;var n,a,e,t=r.a,u={a:t.bP,b:t.cg};n:for(;!u.b.$;)switch(u.a.$){case 0:var c=u.a;return rn(kb,c.a,t.a4,c.b,o=u.b.a,m).a;case 1:var i=u.a.a,o=u.b.a,f=i.bP;return 2!==f.$||f.a.$?Zr(Db,i,t.a4,o,m).a:(e=a=void 0,a=(n=f.a.a.ar?{a:i,b:m.b.v}:Kr(Jo,m.b.v,i)).b,en(e=Zr(Db,n.a,t.a4,o,m).a,{b:en(e.b,{v:a})}));default:break n}return m}();return{a:en(b,{a6:ya,al:Eu(y.b),a:y}),b:Qr(hb,b,y.b,!0)};case 10:r=x=Kr(vo,l=r.a,ya),b=R=b;continue r;case 12:r=x=so,b=R=b;continue r;case 11:var w=r.a;return{a:b,b:Ko({a:C=w.a,b:D=w.b,c:!1})};case 13:var k=r.a;return{a:b,b:Ko({a:C=k.a,b:D=k.b,c:!0})};case 14:var P=r.a,C=P.a,D=P.b;if(P.c){var G=b.a6;if(G.$)return{a:b,b:Tb};var T=G.a;if(an(ma({a:C,b:D}),T.a4)){var x={$:28,a:{a:C,b:D}},R=en(b,{a6:ya});r=x,b=R;continue r}r=x=lo,b=R=b;continue r}r=x=Kr($o,{a:C,b:D},ya),b=R=b;continue r;case 16:var j=r.a;if(Kr(St,function(r){return an(r.ar,j.ar)},b.a.b.bG))return{a:b,b:Tb};var A=b.a.b,m=b.a,S=function(){var r=j.bP;if(8!==r.$||1!==r.a.$)return Kr(wa,j,A.bG);var a=r.a.a,n=Kr(Ft,en(j,{bP:{$:8,a:{$:1,a:a}}}),pi(Kr(Ee,function(r){var n=r.bP;return 8!==n.$||1!==n.a.$?r:en(r,{bP:{$:8,a:{$:1,a:n.a.a+a}}})},Kr(ec,function(r){var n=r.bP;return 8===n.$&&1===n.a.$&&!!an(r.aa,j.aa)},A.bG))));return Kr(wa,n,Kr(ec,function(r){var n=r.bP;return 8!==n.$||1!==n.a.$||!an(r.aa,j.aa)},A.bG))}(),E=en(A,{bG:S}),Y=en(m,{b:E});return{a:en(b,{H:1,a:Y}),b:Qr(hb,b,E,!0)};case 17:var B=r.a;if(Kr(St,function(r){return an(r.ar,B.ar)},b.a.b.bG))return{a:b,b:Tb};var m=b.a,E=en(A=b.a.b,{bG:Kr(wa,B,A.bG)}),Y=en(m,{b:E});return{a:en(b,{H:1,a:Y}),b:Qr(hb,b,E,!0)};case 18:var _=r.a;if(Kr(St,function(r){return an(r.ar,_.ar)},b.a.b.bG))return{a:b,b:Tb};m=b.a,E=en(A=b.a.b,{bG:Kr(wa,_,Kr(ec,function(r){return!an(r.aa,_.aa)||3!==r.bP.$},A.bG))}),Y=en(m,{b:E});return{a:en(b,{H:1,a:Y}),b:Qr(hb,b,E,!0)};case 19:var l=r.a,m=b.a,y=function(){var r,n,a,e=l.bP;return 2!==e.$||e.a.$?Zr(Db,l,ya,{a:l.cn,b:l.co},m).a:(n=(r=e.a.a.ar?{a:l,b:m.b.v}:Kr(Jo,m.b.v,l)).b,en(a=Zr(Db,r.a,ya,{a:l.cn,b:l.co},m).a,{b:en(a.b,{v:n})}))}();return{a:en(b,{H:1,a6:ya,al:Eu(y.b),a:y}),b:Qr(hb,b,y.b,!0)};case 20:var L=r.a,O=pi(Kr(ec,function(r){return an(r.ar,L)},b.a.b.bG));if(O.$)return{a:b,b:Tb};var H=b.a.b,I=Kr(Ft,{a:0,b:0},pi((j=O.a).aa)),y=b.a,J=Kr(Ee,function(r){return Qr(Gf,r,I,1)},j.aa),M=function(){switch(j.aH){case 0:return 4;case 4:return 1===da(J)?2:5;case 2:return 5;case 5:return 1;case 1:return 6;case 6:return 1===da(J)?3:7;case 3:return 7;default:return 0}}(),W=en(j,{aa:J,aH:M}),E=en(H,{bG:Kr(wa,W,Kr(ec,function(r){return!an(r.ar,L)},b.a.b.bG))});return{a:en(b,{a:en(y,{b:E})}),b:Qr(hb,b,E,!0)};case 21:j=r.a,E=en(gr=(y=b.a).b,{bG:Kr(ec,function(r){return!an(r.aa,j.aa)||!an(r.bP,j.bP)},gr.bG)});return{a:en(b,{a:en(y,{b:E})}),b:Qr(hb,b,E,!0)};case 22:return{a:en(b,{al:Eu((Y=Kr(Rb,l=r.a,b.a)).b),a:Y}),b:Qr(hb,b,Y.b,!0)};case 23:var U=(l=r.a).bP;if(2!==U.$||U.a.$)return{a:b,b:Tb};var F=U.a.a,N=Kr(Ee,function(r){return an(r,l)?en(r,{bP:{$:2,a:{$:0,a:en(F,{dq:!F.dq})}}}):r},(gr=b.a.b).bJ),E=en(gr,{bJ:N});return{a:en(b,{a:en(y=b.a,{b:E})}),b:Qr(hb,b,E,!0)};case 24:return{a:Q=en(b,{aD:en(K=b.aD,{bg:r.a}),j:ya,R:ya,B:ya,I:ya}),b:Kr(vb,Q.a.b,Q.aD)};case 26:var z=r.b,C=z.a,D=z.b,X=Kr(Ff,b.a,r.a),E=an(b.a.b.b2,Kr(at,0,101))?Ki(X.b):X.b,q=Kr(Ee,function(r){var n=pi(r.aa);if(n.$)return r;var a=n.a,e=a.b;if(an(C,a.a)&&an(D,e)){var t=r.bP;if(1!==t.$||1!==t.a.$)return r;var u=t.b;return en(r,{bP:Kr(At,Kr(Tt,3,0),u)})}return r},E.bG),Y=en(X,{b:en(E,{bG:q})});return{a:en(b,{a:Y}),b:Qr(hb,b,Y.b,!0)};case 25:return{a:Q=en(b,{aD:en(K=b.aD,{a_:r.a}),j:ya,R:ya,B:ya,S:ya}),b:Kr(vb,Q.a.b,Q.aD)};case 27:var V=r.a,K=b.aD;if(!r.b&&an(V,b.a.b.b2))return{a:en(b,{aD:en(K,{a_:0})}),b:Tb};var Q=en(b,{aD:en(K,{a_:0}),a6:ya,x:{$:1,a:V},B:ya,S:ya});if(V.$){r=x=rn(tt,b.a.b6,V,ya,!0,Kr(Fu,Uu,o=V.a)),b=R=Q;continue r}return{a:Q,b:Kr(io,V,Zr(et,b.a.b6,V,ya,!0))};case 37:var Z=r.a;return{a:en(b,{B:ma("1"),S:ma(Z),I:ya}),b:Tb};case 38:return{a:en(b,{B:ma(r.a)}),b:Tb};case 39:var rr=r.a,nr=an(rr,1)&&!b.aD.b7?2:rr,ar=en(K=b.aD,{cl:nr});return{a:en(b,{aD:ar}),b:Kr(vb,b.a.b,ar)};case 43:var er=r.a,tr=ki(b);return{a:en(b,{j:ma(en(tr,{ce:er}))}),b:Tb};case 40:var ur=r.a,tr=ki(b);return{a:en(b,{j:ma(en(tr,{bY:{a:ur,b:tr.bY.b}})),O:!0}),b:Tb};case 41:var cr=r.a,tr=ki(b);return{a:en(b,{j:ma(en(tr,{bY:{a:tr.bY.a,b:cr}})),O:!0}),b:Tb};case 42:var ir=r.a,tr=ki(b);return{a:en(b,{j:ma(en(tr,{b7:ir}))}),b:Tb};case 44:var or=r.a;if(or.$)return{a:b,b:Tb};var fr=(Vr=void 0,(Vr=(tr=or.a).bY).a+"-"+Vr.b),br=Kr(Ub,{$:45,a:{$:6,a:fr}},en(b,{aD:en(K=b.aD,{a_:0,a0:tr.a0,bd:tr.bd,b7:tr.b7,ce:tr.ce}),j:ya,t:tr.t})),sr=br.a,T=br.b;return an(b.t,tr.t)?{a:sr,b:T}:{a:sr,b:ut(un([T,Kr(mb,function(r){return{$:45,a:r}},Lb(tr.t))]))};case 29:return{a:en(b,{H:r.a}),b:Tb};case 28:return{a:en(b,{aF:n=r.a,H:0}),b:Zo(n)};case 30:return{a:en(b,{aE:n=r.a}),b:Tb};case 31:var lr=r.a,dr=ko(r.b?un([lr]):tn)(Kr(ec,function(r){return!an(r,lr)},yi(b)));return{a:en(b,{R:ma(dr)}),b:Tb};case 32:var vr=r.a,$r=ki(b);return{a:en(b,{j:ma(en($r,{a0:vr}))}),b:Tb};case 33:var hr=r.a,$r=ki(b);return{a:en(b,{j:ma(en($r,{t:hr}))}),b:Tb};case 34:var pr=r.a,$r=ki(b);return{a:en(b,{j:ma(en($r,{bd:pr}))}),b:Tb};case 35:return{a:en(b,{V:!b.V}),b:Tb};case 36:var dr=yi(b),gr=b.a.b,y=b.a,K=b.aD;if(an(dr,b.a.b.ay)){r=x={$:25,a:0},b=R=b;continue r}Q=en(b,{aD:en(K,{a_:0}),R:ya,a:en(y,{b:en(gr,{ay:dr})})});r=x=go,b=R=Q;continue r;case 45:var mr=r.a,yr=function(){switch(mr.$){case 7:return!0;case 8:return!1;default:return b.O}}(),gr=b.a.b,wr=function(){switch(mr.$){case 4:return 0;case 3:return 1;case 5:return 2;default:return b.ab}}(),K=function(){switch(mr.$){case 7:case 6:return en(b.aD,{bY:ma(mr.a)});default:return b.aD}}(),kr=en(b,{aD:yr?K:en(K,{a_:2}),ab:wr,O:yr}),Pr=Zr(Wb,mr,b.bZ,ma(gr),vi),Cr=Pr.a,Dr=Pr.b;if(Cr.$)return{a:kr,b:Dr};var Gr=Kr(Ub,Cr.a,kr);return{a:Q=Gr.a,b:ut(un([Dr,Gr.b]))};case 15:var gr=r.a,Tr=(qr=void 0,(qr=b.A).b&&an(en(qr.a,{dU:b.a.b.dU}),b.a.b),b.A);if(an((y=b.a).b.b2,gr.b2))return{a:en(b,{a:en(y,{b:gr}),A:Kr(Bb,25,Tr)}),b:Kr(vb,gr,b.aD)};var xr=gr.b2;if(xr.$){var Rr=xr.a,x=rn(tt,y.b6,gr.b2,ma(gr),!0,Kr(Fu,Uu,Rr)),R=en(b,{x:{$:1,a:gr.b2}});r=x,b=R;continue r}return{a:en(b,{x:{$:1,a:gr.b2}}),b:Kr(io,gr.b2,Zr(et,y.b6,gr.b2,ma(gr),!0))};case 46:return{a:en(b,{A:Kr(Bb,25,Tr=Kr(wa,H=r.a,b.A))}),b:Tb};case 47:var jr=b.A;if(jr.b){var Ar=jr.b,E=en(H=jr.a,{dU:b.a.b.dU}),Q=en(b,{A:Ar});if(an(H.b2,b.a.b.b2))return{a:Q,b:Qr(hb,Q,E,!1)};var Sr=H.b2;if(Sr.$){o=Sr.a,x=rn(tt,b.a.b6,H.b2,ma(E),!1,Kr(Fu,Uu,o)),R=en(Q,{x:{$:1,a:H.b2}});r=x,b=R;continue r}return{a:en(Q,{x:{$:1,a:H.b2}}),b:Kr(io,H.b2,Zr(et,b.a.b6,H.b2,ma(E),!1))}}return{a:b,b:Tb};case 52:var c=r.a;return b.x.$?{a:b,b:Tb}:{a:b,b:Qr(hb,b,b.a.b,c)};case 48:var Er=r.a;if(!b.aD.a_){var Q=en(b,{y:Kr(wa,Er,b.y)}),Yr=un([{a:un(["control","z"]),b:wo},{a:un(["meta","z"]),b:wo},{a:un(["shift","c"]),b:{$:25,a:1}},{a:un(["shift","r"]),b:go},{a:un(["shift","p"]),b:{$:25,a:3}},{a:un(["shift","s"]),b:{$:25,a:2}}]),Br=un(["control","meta","alt","shift"]);if(an(Q.y,un(["m"]))){r=x=yo,b=R=Q;continue r}var _r=pi(Kr(ec,function(r){return Kr(Yt,function(r){return Kr(tc,r,Q.y)},r.a)},Yr));if(_r.$)return{a:Q,b:Tb};var Lr=_r.a,Or=Lr.a,x=v=Lr.b,R=en(Q,{y:Kr(ec,function(r){return Kr(tc,r,Br)||!Kr(tc,r,Or)},b.y)});r=x,b=R;continue r}if("escape"===Er){r=x={$:25,a:0},b=R=b;continue r}if("enter"!==Er)return{a:b,b:Tb};switch(b.aD.a_){case 1:Ur=wi(b);if(Gi(Ur)){r=x=Kr(fo,Ur,!1),b=R=b;continue r}return{a:b,b:Tb};case 3:r=x=oo,b=R=b;continue r;case 2:r=x={$:44,a:b.j},b=R=b;continue r;default:return{a:b,b:Tb}}case 49:Er=r.a;return{a:en(b,{y:Kr(ec,function(r){return!an(r,vt(Er))},b.y)}),b:Tb};case 50:var Hr=Ob(r.a);switch(b.aD.a_){case 2:if(Pi(Hr)){var Ir=Kr(Ja,"-",Hr);if(Ir.b){var Jr=Ir.a,Ar=Ir.b,tr=ki(b);return{a:en(b,{j:ma(en(tr,{bY:{a:Jr,b:Kr(Ia,"",Ar)}})),O:!0}),b:Tb}}return{a:b,b:Tb}}return{a:b,b:Tb};case 1:var Mr=Te(Hr);if(Mr.$)return{a:b,b:Tb};var Wr=Mr.a,Ur=(Xr=void 0,(Xr=wi(b)).$?Xr:Kr(at,Xr.a,Wr));return Gi(Ur)?{a:en(b,{B:ma(Hr)}),b:Tb}:{a:b,b:Tb};default:return{a:b,b:Tb}}case 51:return 1===r.a?{a:en(b,{y:tn}),b:Tb}:{a:b,b:Tb};case 53:var Fr=r.a;return{a:b,b:Kr(Wo,mo(zr=r.b),rf(Fr))};case 54:var Nr,zr=r.a;return(Nr=r.b).$?{a:b,b:Tb}:{a:en(b,{aA:ma({a:Nr.a,b:zr})}),b:Tb};case 55:return{a:en(b,{aA:ya}),b:Tb};case 56:return{a:en(b,{j:ya,t:!1}),b:Tb};case 57:return{a:b,b:it};default:return{a:b,b:Tb}}}var Xr,qr,Vr}),Fb=Mr,Nb=on("exitFullscreen",bc(0)),zb=Kr(pe,function(r){return ye(vt(r))},Kr(gt,"key",mt)),Xb=Wr,qb=on("onCellFromPoint",Kr(pe,function(a){return Kr(pe,function(n){return Kr(pe,function(r){return ye({a:a,b:n,c:r})},Kr(nt,2,ic))},Kr(nt,1,xt))},Kr(nt,0,xt))),Vb=on("onContextPosition",Kr(pe,function(n){return Kr(pe,function(r){return ye({a:n,b:r})},Kr(nt,1,xt))},Kr(nt,0,xt))),Kb=l(function(r,n,a){return{$:0,a:r,b:n,c:a}}),Qb=v(function(r,n){return{bI:n,cd:r}}),Zb=Re(Kr(Qb,tn,_t)),rs=e(function(f,b,s,r,n,a){var e=Qr(To,l(function(r,n,a){r:for(;;){var e=a.a,t=a.b;if(e.b){var u=e.a,c=u.a,i=u.b,o=e.b;if(C(c,r)<0){r=r,n=n,a={a:o,b:Qr(f,c,i,t)};continue r}return 0<C(c,r)?{a:e,b:Qr(s,r,n,t)}:{a:o,b:Zr(b,c,i,n,t)}}return{a:e,b:Qr(s,r,n,t)}}}),{a:Ga(r),b:a},n),t=e.a,u=e.b;return Qr(Ma,v(function(r,n){return Qr(f,r.a,r.b,n)}),u,t)}),ns=v(function(r,n){return{be:n,bn:r}}),as=l(function(n,a,r){return Kr(Be,function(r){return{a:a,b:r}},Qr(na,r.a?ra:Zn,r.b,function(r){return Kr(Mc,n,Kr(ns,a,r))}))});Or["Browser.Events"]={b:Zb,c:l(function(t,r,n){var a=l(function(r,n,a){var e=a.c;return{a:a.a,b:a.b,c:Kr(wa,Qr(as,t,r,n),e)}}),e=l(function(r,n,a){var e=a.b,t=a.c;return{a:Kr(wa,n,a.a),b:e,c:t}}),u=b(function(r,n,a,e){var t=e.c;return{a:e.a,b:Qr(Jt,r,n,e.b),c:t}}),c=Kr(Ee,uo,r),i=$(rs,e,u,a,n.bI,Ie(c),{a:tn,b:_t,c:tn}),o=i.b,f=i.c;return Kr(Ye,function(r){return Re(Kr(Qb,c,Kr(Sf,o,Ie(r))))},Kr(Ye,function(){return ga(f)},ga(Kr(Ee,ti,i.a))))}),d:l(function(r,n,a){var e=n.bn,t=n.be,u=Kr(Mu,function(r){var n=r.b,a=n.c;return an(r.a,e)?Kr(aa,a,t):ya},a.cd);return Kr(Ye,function(){return Re(a)},ga(Kr(Ee,Le(r),u)))}),e:0,f:v(function(r,n){return Qr(Kb,n.a,n.b,Kr(ge,r,n.c))})};function es(r){var n=void 0!==ln.hidden?{aL:"hidden",cz:"visibilitychange"}:void 0!==ln.mozHidden?{aL:"mozHidden",cz:"mozvisibilitychange"}:void 0!==ln.msHidden?{aL:"msHidden",cz:"msvisibilitychange"}:void 0!==ln.webkitHidden?{aL:"webkitHidden",cz:"webkitvisibilitychange"}:{aL:"hidden",cz:"visibilitychange"};return Qr(Zs,0,n.cz,Kr(ge,el(r),Kr(gt,"target",Kr(gt,n.aL,ic))))}function ts(r){var n=r.b;return un([{a:"x",b:Qo(r.a)},{a:"y",b:Qo(n)}])}function us(n){return R(un([{a:"type",b:Uo(function(){switch(n.$){case 0:return"overlay";case 1:return"piece";default:return"room"}}())},{a:"data",b:mi(function(){switch(n.$){case 0:return Ni(n.a);case 1:return Xi(n.a);default:return function(r){return un([{a:"ref",b:Uo(Kr(Ft,"",Oi(r.bP)))},{a:"origin",b:mi(ts(r.dn))},{a:"turns",b:Qo(r.dR)}])}(n.a)}}())}]),function(){switch(n.$){case 0:var r=n.b;return un([{a:"ref",b:r.$?ct:mi(ts(r.a))}]);case 1:default:return tn}}())}function cs(r){return{$:3,a:r}}function is(r){var n=r.a,a=r.b,e=Kr(qc,ye,Kr(qc,ge(function(r){return{c5:r,dw:!0,dG:!0}}),cs));return wl(function(r){return en(r,{c:Kr(ko,r.c,un([{a:n,b:e(a)}]))})})}function os(n){return wl(function(r){return en(r,{Q:Kr(ko,r.Q,un([n]))})})}function fs(n){return wl(function(r){return en(r,{G:Kr(ko,r.G,un([n]))})})}function bs(r){return pn(xn(r))}function ss(r){return $n(xn(r))}function ls(r){return vn(xn(r))}function ds(r){var n=r,a=n.cb.b?ko(Kr(Ee,function(r){return Kr(Dl,r.a,r.b)},n.cb)):function(r){return r},e=n.c.b?ko(Kr(Ee,function(r){return Kr(Pl,r.a,r.b)},n.c)):function(r){return r},t=""===n.aW?function(r){return r}:wa(Kr(vu,"rendered-internal-text",Gl(n.aW))),u=""===n.aW?function(r){return r}:wa(Gl(n.aW)),c=(""===n.ar?function(r){return r}:wa(Kr(Cl,"id",Uo(n.ar))))((n.G.b?wa(Kr(Cl,"className",Uo(Kr(Ia," ",n.G)))):function(r){return r})(a(e(n.Q)))),i={a:n.da,b:n.c$};return""===i.a?i.b.b?Qr(bs,n.aV,c,t(Qr(Wa,vu,n.c$,n.cB))):Qr(ss,n.aV,c,u(n.cB)):i.b.b?Zr(kl,n.da,n.aV,c,t(Qr(Wa,vu,n.c$,n.cB))):Zr(ls,n.da,n.aV,c,u(n.cB))}function vs(r){var n=ds(r);return wl(function(r){return en(r,{cB:Kr(ko,r.cB,un([n]))})})}function $s(r){return{Q:tn,cB:tn,G:tn,ar:"",c$:tn,c:tn,da:"",cb:tn,aV:r,aW:""}}function hs(r){switch(r.$){case 9:return 0;case 1:return 1;case 2:return 2;case 0:return 3;case 6:return 4;case 5:return 5;case 8:return r.a.$?7:6;case 4:return 8;case 7:return 9;case 10:return 10;default:return 11}}function ps(n){return wl(function(r){return en(r,{Q:Kr(ko,r.Q,n)})})}function gs(n){function a(r){return Kr(gt,Ha(r),n)}return Kr(pe,function(r){return Ol(Kr(Ee,a,Kr(Fa,0,r-1)))},Kr(gt,"length",xt))}function ms(n){return wl(function(r){return en(r,{cb:Kr(ko,r.cb,un([n]))})})}function ys(n){return wl(function(r){return en(r,{aW:Kr(nd,r.aW,n)})})}function ws(r){return an(r,cd)?"Red":an(r,ad)?"Blue":an(r,ed)?"Green":an(r,id)?"Yellow":an(r,ud)?"Orange":an(r,td)?"Indigo":Fi(r)}function ks(r){switch(r.$){case 1:switch((n=r.a).$){case 0:return"Altar";case 5:return"Stone Door";case 6:return"Wooden Door";case 1:return"Breakable Wall";case 2:switch(e=n.a){case 0:return"Dark Corridor";case 1:return"Earth Corridor";case 2:return"Manmade Stone Corridor";case 3:return"Natural Stone Corridor";case 4:return"Pressure Plate";default:return"Wooden Corridor"}case 3:return"Dark Fog";default:return"Light Fog"}case 0:var n;switch(n=r.a){case 0:return"Fallen Log";case 1:return"Rubble";case 2:case 3:return"Stairs";default:return"Water"}case 2:return r.a?"Thorns":"Hot Coals";case 3:return ws(e=r.a)+" Highlight";case 4:switch(r.a){case 0:return"Altar";case 1:return"Barrel";case 2:return"Bookcase";case 3:case 4:case 5:return"Boulder";case 6:return"Bush";case 7:return"Cabinet";case 8:return"Crate";case 9:return"Crystal";case 10:return"Dark Pit";case 11:return"Fountain";case 12:return"Mirror";case 13:return"Nest";case 14:return"Pillar";case 15:return"Rock Column";case 16:return"Sarcophagus";case 17:return"Sheelves";case 18:return"Stalagmites";case 19:return"Tree Stump";case 20:return"Table";case 21:return"Totem";case 22:return"Tree";default:return"Wall"}case 5:return"Rift";case 6:return"Starting Location";case 7:switch(t=r.a){case 0:return"Bear Trap";case 2:return"Spike Trap";default:return"Poison Trap"}case 8:if((t=r.a).$){var a=t.a;return R(Ha(a),1===a?" Coin":" Coins")}var e=t.a;return"Treasure Chest "+function(){switch(e.$){case 1:return"Goal";case 2:return"(locked)";default:return Ha(e.a)}}();case 9:var t;return"Token ("+(t=r.a)+")";default:switch(r.a){case 0:return"Huge Rock Wall";case 1:return"Iron Wall";case 2:return"Large Rock Wall";case 3:return"Obsidian Glass Wall";default:return"Rock Wall"}}}function Ps(e){var r,n=Kr(od,e.f,e.a4);return{a:n,b:function(){var r=e.f.bP;r:for(;;)switch(r.$){case 1:case 6:case 3:return os(Kr(vl,"draggable","false"));case 8:if(1===r.a.$)return os(Kr(vl,"draggable","false"));break r;default:break r}return Kr(Cd,Kr(po,e.f,ya),e.a4)}()((8!==(r=e.f.bP).$||1!==r.a.$?function(r){return r}:vs(Kr(ys,Ha(r.a.a),$s("span"))))(Kr(vs,function(){var r=e.f.bP;switch(r.$){case 9:return Kr(ys,r.a,$s("span"));case 3:return Kr(ms,{a:"background-color",b:Fi(r.a)},$s("div"));default:return Kr(os,Kr(vl,"src",Kr(fd,e.f,e.a4)),Kr(os,rd(ks(e.f.bP)),$s("img")))}}(),Qr(Ql,Kr(vl,"data-index",function(){var r=e.f.bP;if(8!==r.$)return"";var n=r.a;if(n.$)return"";var a=n.a;switch(a.$){case 0:return Ha(a.a);case 1:return"Goal";default:return"???"}}()),8===e.f.bP.$,Qr(Zl,function(){switch(e.f.aH){case 0:return"";case 2:return"vertical";case 3:return"vertical-reverse";case 1:return"horizontal";case 5:return"diagonal-right";case 4:return"diagonal-left";case 7:return"diagonal-right-reverse";default:return"diagonal-left-reverse"}}(),!!e.f.aH,Kr(fs,function(){var r=e.f.bP;switch(r.$){case 6:return"start-location";case 5:return"rift";case 8:return"treasure "+(1===r.a.$?"coin":"chest");case 4:return"obstacle";case 2:return"hazard";case 3:return"highlight";case 0:return"difficult-terrain";case 1:return"door"+(2===r.a.$?" corridor":"");case 7:return"trap";case 9:return"token";default:return"wall"}}(),Qr(Zl,"being-dragged",e.U,Kr(fs,"overlay",Kr(os,Kr(vl,"aria-label",n),$s("div"))))))))))}}function Cs(r){var n=Kr(Ee,ds,r);return wl(function(r){return en(r,{cB:Kr(ko,r.cB,n)})})}function Ds(t){var u=l(function(r,n,a){return Kr(vs,Kr(os,Kr(vl,"src","/img/characters/portraits/"+n+".png"),Kr(os,rd(r),$s("img"))),Kr(fs,"hex-mask",a))}),c=function(r){var n=r.bP;switch(n.$){case 1:return Qr(bu,"-"," ",Kr(Ft,"",Ii(n.a)));case 2:var a=n.a;if(a.$){if(a.a.$){return"Beast Tyrant Bear Summons"}return"Summons Number "+Ha(a.a.a)}var e=a.a;return function(){if(e.n.$)return"Boss";switch(e.bq){case 2:return"Elite";case 1:return"Normal";default:return""}}()+(" "+Qr(bu,"-"," ",Kr(Ft,"",gi(e.n)))+(0<e.ar?" ("+Ha(e.ar)+")":""));default:return"None"}}(t.W);return{a:c,b:Qr(Cd,{$:1,a:t.W},t.a4,function(){var r=t.W.bP;switch(r.$){case 1:return Kr(u,c,Kr(Ft,"",Ii(r.a)));case 2:var n=r.a;if(n.$){if(n.a.$){return function(r){return Qr(u,c,"bear",Kr(fs,"bear",r))}}var a=n.a,e=a.a;return Cs(un([Kr(os,Kr(vl,"style","background-color: "+Fi(a.b)+";"),Kr(os,hl("background"),$s("div"))),Kr(os,Kr(vl,"draggable","false"),Kr(os,Kr(vl,"src","/img/characters/summons.png"),Kr(os,rd(c),$s("img")))),Kr(ys,Ha(e),$s("span"))]))}return Kr(Dd,n.a,c);default:return fs("none")}}()(Qr(Zl,"being-dragged",t.U,Kr(fs,function(r){switch(r.$){case 1:return Kr(Ft,"",Ii(r.a));case 2:var n=r.a;return 1===n.$?"summons":Kr(Ft,"",gi(n.a.n));default:return""}}(t.W.bP),Kr(fs,function(r){switch(r.$){case 1:return"player";case 2:return 1===r.a.$?"player":"monster";default:return""}}(t.W.bP),Kr(os,Kr(vl,"aria-label",function(){var r=t.a4;if(r.$)return"Add New "+c;var n=r.a,a=n.b;return c+(" at "+Ha(n.a)+(", "+Ha(a)))}()),$s("div")))))))}}function Gs(r){var n,a=(n=r,Qr(Se,v(function(r,n){var a=r.b,e=n.b;return{a:Kr(wa,r.a,n.a),b:Kr(wa,a,e)}}),{a:tn,b:tn},n)),e=a.a,t=Kr(Ee,ds,a.b);return wl(function(r){return en(r,{cB:t,c$:e})})}function Ts(r){return{$:0,a:r}}function xs(r){return Kr(Yd,"click",ye(r))}function Rs(r){return Kr(pl,un([hl("connectionStatus"+(1===r||2===r?" show":"")),Kr(vl,"aria-hidden",1===r||2===r?"false":"true")]),un([Kr(Bd,tn,un([_d("You are currently offline")])),Kr(Ed,un([xs(Sd)]),un([_d("Reconnect")]))]))}function js(r){return Kr(Ia," ",Kr(Ee,function(r){return R(Od(Qr(Ce,0,1,r)),Qr(Ce,1,Pe(r),r))},Kr(Ja,"-",r)))}function As(r){return Kr(Id,pa,r)}function Ss(r){return Kr(Yl,"click",ye({c5:r,dw:!0,dG:!0}))}function Es(r){var n=r.a,a=r.b,e=Kr(qc,ye,Ts);return wl(function(r){return en(r,{c:Kr(ko,r.c,un([{a:n,b:e(a)}]))})})}function Ys(r){return{$:1,a:r}}function Bs(r){var n=r.a,a=r.b,e=Kr(qc,ye,Kr(qc,ge(function(r){return{a:r,b:!0}}),Ys));return wl(function(r){return en(r,{c:Kr(ko,r.c,un([{a:n,b:e(a)}]))})})}function _s(r){return{$:41,a:r}}function Ls(r){return{$:40,a:r}}function Os(r){return{$:43,a:r}}function Hs(n){var a=nv({a:"value",b:mt});return wl(function(r){return en(r,{c:Kr(ko,r.c,un([{a:"input",b:a(n)}]))})})}function Is(r){return Kr(Tn,"maxlength",Ha(r))}function Js(r){return Kr(Tn,"minLength",Ha(r))}function Ms(r){return{$:38,a:r}}function Ws(n){var a=bv({a:"value",b:mt});return wl(function(r){return en(r,{c:Kr(ko,r.c,un([{a:"change",b:a(n)}]))})})}function Us(r){return Kr(ys,ob(Qr(Ma,v(function(n,a){var r=function(){if("-"===n)return" ";var r=function(r){r:for(;;){if(r.b){if(r.b.b){r=r.b;continue r}return ma(r.a)}return ya}}(a);return r.$||" "===r.a?sv(n):n}();return Kr(ko,a,un([r]))}),tn,Fe(r))),Kr(fs,r,Kr(fs,"icon",$s("i"))))}function Fs(r){return Kr(Tn,"tabIndex",Ha(r))}function Ns(r){return Gd(Kr(Es,{a:"click",b:{$:25,a:0}},Kr(vs,Kr(Bs,{a:"click",b:ld},function(){switch(r.aD.a_){case 1:return vs(function(a){var r,e=wi(a),n=function(){if(1!==e.$)return Gi(e)?ya:ma("Invalid scenario number");var r=a.I;if(r.$||r.a.b.$)return ya;if(r.a.b.a.$){var n=Ka(r.a.b.a.a);return ma("Cannot decode file: '"+n+"'")}return ya}(),t=an(n,ya),u=1===e.$,c=(r=a.I).$?"":r.a.a,i=e.$?ya:ma(e.a),o=Kr(ge,function(r){return{$:37,a:r}},Kr(pe,function(r){var n=Kr(Ja,"|",r);r:for(;n.b;){if(!n.b.b)return"custom"===n.a?ye({$:1,a:""}):dt("Incorrect type");if(n.b.b.b)break r;var a=n.b.a;if("inbuilt"!==n.a)return dt("Incorrect type");switch(a){case"gloomhaven":return ye(Kr(at,0,1));case"solo":return ye(Kr(at,1,1));default:return dt("Incorrect expansion")}}return dt("String in wrong format")},$v));return Kr(Cs,un([Kr(Cs,un([Kr(ys,"Type",Kr(os,Kr(vl,"for","scenarioTypeInput"),$s("label"))),Kr(Cs,un([Kr(ys,"Gloomhaven + FC",Kr(os,dv(an(i,ma(0))),Kr(os,Kr(vl,"value","inbuilt|gloomhaven"),$s("option")))),Kr(ys,"Solo",Kr(os,dv(an(i,ma(1))),Kr(os,Kr(vl,"value","inbuilt|solo"),$s("option")))),Kr(ys,"Custom",Kr(os,dv(u),Kr(os,Kr(vl,"value","custom"),$s("option"))))]),Kr(os,Kr(vl,"id","scenarioTypeInput"),Kr(os,Kr(Yd,"change",o),Kr(Bs,{a:"click",b:ld},$s("select")))))]),Kr(fs,"select-wrapper",$s("div"))),Qr(vv,e,c,n),Kr(Cs,un([Qr(ov,{a:"click",b:Kr(fo,e,!1)},t,Kr(ys,"OK",$s("button"))),Kr(Es,{a:"click",b:{$:25,a:0}},Kr(ys,"Cancel",$s("button")))]),Kr(fs,"button-wrapper",$s("div")))]),Kr(fs,"scenario-form",$s("div")))}(r));case 2:return vs(function(r){var n=ki(r),a=n.bY,e=a.a,t=a.b,u=Pi(e+"-"+t)&&r.O;return Kr(Cs,R(r.c1?tn:un([Kr(Cs,R(un([Kr(ys,"Room Code",Kr(os,Kr(vl,"for","roomCodeInput1"),$s("label"))),Kr(Cs,un([Kr(os,uv(e),Kr(os,tv(!0),Kr(os,Is(5),Kr(os,Js(5),Kr(Hs,Ls,Kr(os,Kr(vl,"id","roomCodeInput1"),Kr(Bs,{a:"click",b:ld},$s("input")))))))),Kr(ys,"-",$s("span")),Kr(os,uv(t),Kr(os,tv(!0),Kr(os,Is(5),Kr(os,Js(5),Kr(Hs,_s,Kr(os,Kr(vl,"id","roomCodeInput2"),Kr(Bs,{a:"click",b:ld},$s("input"))))))))]),Kr(fs,"split-input",$s("div")))]),u?tn:un([Kr(ys,"Invalid room code",Kr(fs,"error-label",$s("div")))])),Qr(Zl,"error",!u,Kr(fs,"input-wrapper",$s("div"))))]),un([Kr(vs,Kr(vs,Kr(Hs,Os,Kr(os,Kr(vl,"value",n.ce),Kr(os,Kr(vl,"type","color"),Kr(os,Kr(vl,"id","summonsColour"),$s("input"))))),Kr(ys,"Summons Colour",Kr(os,Kr(vl,"for","summonsColour"),$s("label")))),Kr(fs,"input-wrapper",$s("div"))),Kr(vs,Kr(vs,Kr(Bs,{a:"click",b:{$:42,a:!n.b7}},Kr(os,ev(n.b7),Kr(os,Kr(vl,"value","1"),Kr(os,Kr(vl,"type","checkbox"),Kr(os,Kr(vl,"id","showRoomCode"),$s("input")))))),Kr(ys,"Show Room Code",Kr(os,Kr(vl,"for","showRoomCode"),Qr(Zl,"checked",n.b7,Kr(fs,"checkbox",$s("label")))))),Kr(fs,"input-wrapper",$s("div"))),Kr(vs,Kr(vs,Kr(Bs,{a:"click",b:{$:32,a:!n.a0}},Kr(os,ev(n.a0),Kr(os,Kr(vl,"value","1"),Kr(os,Kr(vl,"type","checkbox"),Kr(os,Kr(vl,"id","showBoardOnly"),$s("input")))))),Kr(ys,"Hide UI",Kr(os,Kr(vl,"for","showBoardOnly"),Qr(Zl,"checked",n.a0,Kr(fs,"checkbox",$s("label")))))),Kr(fs,"input-wrapper",$s("div"))),Kr(vs,Kr(vs,Kr(Bs,{a:"click",b:{$:33,a:!n.t}},Kr(os,ev(n.a0),Kr(os,Kr(vl,"value","1"),Kr(os,Kr(vl,"type","checkbox"),Kr(os,Kr(vl,"id","toggleFullscreen"),$s("input")))))),Kr(ys,"Fullscreen Mode",Kr(os,Kr(vl,"for","toggleFullscreen"),Qr(Zl,"checked",n.t,Kr(fs,"checkbox",$s("label")))))),Kr(fs,"input-wrapper",$s("div"))),Kr(vs,Kr(vs,Kr(Bs,{a:"click",b:{$:34,a:!n.bd}},Kr(os,ev(n.a0),Kr(os,Kr(vl,"value","1"),Kr(os,Kr(vl,"type","checkbox"),Kr(os,Kr(vl,"id","toggleEnvelopeX"),$s("input")))))),Kr(ys,"Envelope X",Kr(os,Kr(vl,"for","toggleEnvelopeX"),Qr(Zl,"checked",n.bd,Kr(fs,"checkbox",$s("label")))))),Kr(fs,"input-wrapper",$s("div"))),Kr(Cs,un([Kr(Es,{a:"click",b:{$:44,a:r.j}},Kr(ys,"OK",$s("button"))),Kr(Es,{a:"click",b:{$:25,a:0}},Kr(ys,"Cancel",$s("button")))]),Kr(fs,"button-wrapper",$s("div")))])),Kr(fs,"client-form",$s("div")))}(r));case 3:return vs(function(n){var a=yi(n),r=Kr(Ee,function(r){var n=r.b;return Qr(iv,r.a,n,Kr(tc,n,a))},Kr(ec,function(r){return n.aD.bd||2!==r.b},Ga(yc)));return Kr(vs,Kr(Cs,un([Kr(Bs,{a:"click",b:oo},Kr(ys,"OK",$s("button"))),Kr(Es,{a:"click",b:{$:25,a:0}},Kr(ys,"Cancel",$s("button")))]),Kr(fs,"button-wrapper",$s("div"))),Kr(Cs,r,Kr(fs,"character-form",$s("div"))))}(r));default:return function(r){return r}}}()(Kr(fs,"dialog",Kr(os,Kr(vl,"aria-keyshortcuts","enter"),Kr(os,Fs(0),Kr(os,Kr(vl,"aria-label",function(){switch(r.aD.a_){case 1:return"Choose a new Scenario";case 2:return"Change configuration settings";case 3:return"Change character classes";default:return""}}()),Kr(os,Kr(vl,"role","dialog"),$s("div")))))))),Kr(fs,"overlay-dialog",Kr(os,Kr(vl,"aria-keyshortcuts","escape"),Kr(os,Fs(0),$s("div")))))))}function zs(r){return Kr($l,"href",/^javascript:/i.test((n=r).replace(/\s/g,""))?"":n);var n}function Xs(r){return Kr($l,"src",Rn(r))}function qs(r){return Kr(hv,tn,un([Kr(pl,un([hl("credits")]),un([Kr(Bd,un([hl("gloomCopy")]),un([_d("Gloomhaven and all related properties and images are owned by "),Kr(Ed,un([zs("http://www.cephalofair.com/")]),un([_d("Cephalofair Games")]))])),Kr(Bd,un([hl("any2CardCopy")]),un([_d("Additional card scans courtesy of "),Kr(Ed,un([zs("https://github.com/any2cards/gloomhaven")]),un([_d("Any2Cards")]))]))])),Kr(pl,un([hl("pkg")]),un([Kr(pl,un([hl("copy-wrapper")]),un([Kr(Bd,un([hl("pkgCopy")]),un([_d("Developed by "),Kr(Ed,un([zs("https://purplekingdomgames.com/")]),un([_d("Purple Kingdom Games")]))])),Kr(pl,un([hl("sponsor")]),un([Kr(pv,un([hl("sponsor-button"),Xs("https://github.com/sponsors/PurpleKingdomGames/button"),mv("Sponsor PurpleKingdomGames"),Kr(vl,"aria-hidden","true")]),tn)]))])),Kr(pl,un([hl("version")]),un([Kr(Ed,un([gv("_new"),zs("https://github.com/PurpleKingdomGames/virtual-gloomhaven-board/issues/new/choose")]),un([_d("Report a bug")])),Kr(Bd,tn,un([_d("Version "+r)]))]))]))]))}function Vs(n){var r=function(){var r=n.a.b.b2;if(r.$||1!==r.a)return!1;return!0}();return Kr(pl,un([hl("header")]),un([function(e){return Qr(jd,"div",un([hl("menu"+(e.V?" show":"")),xs(yo),Fs(0),Kr(vl,"aria-label","Toggle Menu"),Kr(vl,"aria-keyshortcuts","m"),Kr(vl,"role","button"),Kr(vl,"aria-pressed",e.V?"true":"false")]),Kr(wa,(r=function(){var r=e.aD.aC;if(r.$)return{a:ya,b:ya};var n=r.a,a=n.b;return{a:ma(n.a),b:ma(a)}}(),{a:"menuHtml",b:nn(qd,kv,e.c2,e.c0,e.a.b2.ar,r.a,r.b,e.V)}),an(e.aD.cl,2)?un([Qr(Pv,"If you need to change a setting, add players, or undo a turn you've made - you can do it all by clicking the menu icon above.",2,{$:39,a:3})]):tn));var r}(n),Zr(Xd,Gv,n.a.b2.ar,n.a.b2.dP,r),Zr(Xd,Cv,n.aD.bY,n.aD.b7,an(n.aD.cl,1))]))}var Ks,Qs=Jr("Browser.Events"),Zs=l(function(r,n,a){return Qs(Qr(Kb,r,n,a))}),rl=Kr(Zs,0,"keydown"),nl=Kr(Zs,0,"keyup"),al=on("onPaste",mt),el=v(function(r,n){return r(n?1:0)}),tl=on("clientConnected",bc(0)),ul=on("clientDisconnected",bc(0)),cl=on("connected",bc(0)),il=on("disconnected",bc(0)),ol=on("invalidRoomCode",bc(0)),fl=on("receiveRoomCode",mt),bl=on("receiveUpdate",dc),sl=on("reconnecting",bc(0)),ll=Fb(un([ul(function(r){return{$:0,a:r}}),tl(function(r){return{$:1,a:r}}),bl(function(r){return{$:2,a:r}}),il(function(r){return{$:3,a:r}}),cl(function(r){return{$:4,a:r}}),sl(function(r){return{$:5,a:r}}),fl(function(r){return{$:7,a:r}}),ol(function(r){return{$:8,a:r}})])),dl={$:12},vl=v(function(r,n){return Kr(Tn,function(r){return/^(on|formAction$)/i.test(r)?"data-"+r:r}(r),Rn(n))}),$l=v(function(r,n){return Kr(Gn,r,Uo(n))}),hl=$l("className"),pl=$n("div"),gl=q,ml=b(function(r,n,a,e){return{a4:a,bg:r,U:n,f:e}}),yl=b(function(r,n,a,e){return{a4:a,bg:r,U:n,W:e}}),wl=v(function(r,n){return r(n)}),kl=v(function(r,n){return Kr(hn,r,xn(n))}),Pl=Cn,Cl=v(function(r,n){return Kr(Gn,function(r){return"innerHTML"==r||"formAction"==r?"data-"+r:r}(r),Rn(n))}),Dl=Dn,Gl=dn,Tl=v(function(r,n){return n?"hidden":r?"passable":"impassable"}),xl=Kr(pe,function(n){return Kr(pe,function(r){return ye({a:n,b:r})},Kr(gt,"y",xt))},Kr(gt,"x",xt)),Rl=Zr(Rc,zf,Kr(pe,function(r){var n=Ut(r);return n.$?dt("Cannot decode room ref "+r):ye(n.a)},Kr(gt,"ref",mt)),Kr(gt,"origin",xl),Kr(gt,"turns",xt)),jl=Zr(Rc,ho,Kr(gt,"ref",Kr(pe,function(r){switch(vt(r)){case"overlay":return Kr(pe,function(n){return Kr(pe,function(r){return ye(Kr(po,n,r))},Kr(gt,"ref",_u(xl)))},Kr(gt,"data",$u));case"piece":return Kr(pe,function(r){return ye({$:1,a:r})},Kr(gt,"data",jc));case"room":return Kr(pe,function(r){return ye({$:2,a:r})},Kr(gt,"data",Rl));default:return dt("Cannot decode "+r+" as moveable piece")}},Kr(gt,"type",mt))),Kr(gt,"coords",_u(xl)),Kr(gt,"target",_u(xl))),Al=l(function(a,e,r){return!pi(Kr(ec,function(r){var n=r.b;return an(r.a,a)&&an(n,e)},r.aa)).$}),Sl=l(function(n,a,r){return pi(Kr(ec,function(r){return an(r.cn,n)&&an(r.co,a)},r))}),El=a(function(r,n,a,e,t){return{cJ:r,at:a,au:e,av:t,aw:n}}),Yl=v(function(r,n){return Kr(Pl,r,{$:3,a:n})}),Bl=v(function(r,n){return{cE:r,c8:n}}),_l=l(function(r,n,a){return{cJ:a,cR:r,ai:n}}),Ll=oa,Ol=Kr(Se,me(wa),ye(tn)),Hl=Zr(Rc,_l,Kr(gt,"files",gs(Ll)),Kr(gt,"types",Nt(mt)),Kr(gt,"dropEffect",mt)),Il=e(function(r,n,a,e,t,u){return{cy:n,a3:a,c$:r,di:e,dr:t,dA:u}}),Jl=Kr(ge,function(r){switch(r){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}},Kr(gt,"button",xt)),Ml=Qr(me,v(function(r,n){return{a:r,b:n}}),Kr(gt,"clientX",Wu),Kr(gt,"clientY",Wu)),Wl=Zr(Rc,l(function(r,n,a){return{ct:r,cD:n,dC:a}}),Kr(gt,"altKey",ic),Kr(gt,"ctrlKey",ic),Kr(gt,"shiftKey",ic)),Ul=Qr(me,v(function(r,n){return{a:r,b:n}}),Kr(gt,"offsetX",Wu),Kr(gt,"offsetY",Wu)),Fl=Qr(me,v(function(r,n){return{a:r,b:n}}),Kr(gt,"pageX",Wu),Kr(gt,"pageY",Wu)),Nl=Qr(me,v(function(r,n){return{a:r,b:n}}),Kr(gt,"screenX",Wu),Kr(gt,"screenY",Wu)),zl=nn(gu,Il,Wl,Jl,Ml,Ul,Fl,Nl),Xl=Qr(me,Bl,Kr(gt,"dataTransfer",Hl),zl),ql=v(function(r,n){return Kr(Yl,r,Kr(ge,function(r){return{c5:n(r),dw:!0,dG:!0}},Xl))}),Vl=v(function(r,n){return Kr(Yl,r,Kr(ge,function(r){return{c5:n(r),dw:!0,dG:!0}},dc))}),Kl=v(function(a,r){var n=rn(El,1,v(function(r,n){return Kr($o,a,ma({a:r,b:n}))}),bf(lo),ya,ya);return Kr(ps,function(r){return Kr(Mu,pa,un([ma(Kr(Vl,"dragover",r.aw(r.cJ))),ma(Kr(ql,"drop",r.at)),Kr(yu,ql("dragenter"),r.au),Kr(yu,ql("dragleave"),r.av)]))}(n),r)}),Ql=v(function(r,n){return n?os(r):function(r){return r}}),Zl=v(function(r,n){return n?fs(r):function(r){return r}}),rd=$l("alt"),nd=M,ad=Zr(eu,0,0,255,1),ed=Zr(eu,0,128,0,1),td=Zr(eu,75,0,130,1),ud=Zr(eu,255,165,0,1),cd=Zr(eu,255,0,0,1),id=Zr(eu,255,255,0,1),od=v(function(r,n){return n.$?"Add new "+ks(r.bP):ks(r.bP)+(" "+Ha(r.ar))}),fd=v(function(i,o){var r=function(){if(o.$)return"";var r=o.a,e=r.a,t=r.b,n=pi(Kr(ec,function(r){var n=r.b,a=n.b;return an(n.a,e)&&an(a,t)},(a=Yi(i.aa),u=a.a,Qr(Pa,v(function(r,n){var a=n.a;return{a:a-1,b:Kr(wa,{a:a,b:r},n.b)}}),{a:u-1,b:tn},a).b)));if(n.$)return"";var a,u,c=n.a.a;return 0<c?"-"+Ha(c+1):""}();return R("/img/overlays/",R(Kr(Ft,"",ji(i.bP)),R(function(){var r={a:i.bP,b:i.aH};r:for(;2===r.b;)switch(r.a.$){case 1:switch(r.a.a.$){case 5:return"-vert";case 1:return"-vert";case 6:return"-vert";default:break r}case 4:if(r.a.a)break r;return"-vert";default:break r}return""}(),R(r,".png"))))}),bd=b(function(r,n,a,e){return{cK:r,bD:e,bE:a,bF:n}}),sd=l(function(r,n,a){return{a5:n,br:a,bw:r}}),ld={$:58},dd={dw:!0,dG:!1},vd=b(function(r,n,a,e){return{cA:n,c$:r,dK:a,dQ:e}}),$d=rn(lu,b(function(r,n,a,e){return{a3:n,cU:r,dr:a,dA:e}}),Kr(gt,"identifier",xt),Ml,Fl,Nl),hd=gs,pd=rn(lu,vd,Wl,Kr(gt,"changedTouches",hd($d)),Kr(gt,"targetTouches",hd($d)),Kr(gt,"touches",hd($d))),gd=l(function(r,n,a){return Kr(Yl,r,Kr(ge,function(r){return{c5:a(r),dw:n.dw,dG:n.dG}},pd))}),md=Kr(gd,"touchend",dd),yd=Kr(gd,"touchmove",dd),wd=Tn("draggable"),kd=v(function(r,n){return Kr(Yl,r,Kr(ge,function(r){return{c5:n(r),dw:!1,dG:!0}},dc))}),Pd=Kr(gd,"touchstart",dd),Cd=l(function(a,e,r){var n=Zr(bd,Qr(sd,!0,!1,!1),v(function(r,n){return Kr(vo,Qr(ho,a,e,ya),ma({a:r,b:n}))}),bf(so),ya);return Kr(os,md(function(r){var n=pi(r.cA);return n.$?ld:{$:13,a:n.a.a3}}),Kr(os,yd(function(r){var n=pi(r.dQ);return n.$?ld:{$:11,a:n.a.a3}}),Kr(os,Pd(function(){return{$:10,a:Qr(ho,a,e,ya)}}),Kr(ps,function(r){return Kr(Mu,pa,un([ma(wd("true")),ma(Kr(kd,"dragstart",r.bF(r.cK))),ma(Kr(ql,"dragend",r.bE)),Kr(yu,ql("drag"),r.bD)]))}(n),r))))}),Dd=l(function(r,n,a){var e=function(){if(r.n.$)return"boss";switch(r.bq){case 2:return"elite";case 1:return"normal";default:return""}}();return Kr(Cs,un([Kr(os,rd(n),Kr(os,Kr(vl,"src","/img/monsters/"+Kr(Ft,"",gi(r.n))+".png"),$s("img"))),Kr(ys,r.ar?Ha(r.ar):"",$s("span"))]),Qr(Zl,"out-of-phase",r.dq,Kr(fs,"hex-mask",Kr(fs,e,a))))}),Gd=ds,Td=B,xd=u(function(t,r,n,u,c,a,e,i){var o,f,b=(o=Kr(Fu,jl,a)).$?ya:ma(o.a),s=Kr(Ee,function(a){return Zr(ml,t,function(){if(b.$)return!1;var r=b.a.bP;if(r.$)return!1;var n=r.a;return an(n.bP,a.bP)&&an(n.ar,a.ar)}(),ma({a:u,b:c}),a)},Kr(ec,Kr(Al,u,c),r)),l=Kr(yu,function(n){return Zr(yl,t,function(){if(b.$)return!1;var r=b.a.bP;return 1===r.$&&an(r.a.bP,n.bP)}(),ma({a:u,b:c}),n)},Qr(Sl,u,c,n)),d=Kr(Gs,R(Kr(Ee,Ps,Kr(ec,function(r){var n=r.f.bP;switch(n.$){case 9:return!1;case 8:return!n.a.$;default:return!0}},Kr(Td,v(function(r,n){return Kr(Ht,hs(r.f.bP),hs(n.f.bP))}),s))),R(1===l.$?tn:un([Ds(l.a)]),R(Kr(Ee,Ps,Kr(ec,function(r){var n=r.f.bP;switch(n.$){case 9:return!0;case 8:return!!n.a.$;default:return!1}},s)),function(){if(b.$)return tn;var r=b.a,n=r.bP;switch(n.$){case 1:var a=n.a;return an(r.cg,ma({a:u,b:c}))?un([Ds(Zr(yl,t,!1,ma({a:u,b:c}),a))]):tn;case 0:var e=n.a;return Kr(St,function(r){return an(r,{a:u,b:c})},e.aa)?un([Ps(Zr(ml,t,!1,ma({a:u,b:c}),e))]):tn;default:return tn}}()))),Kr(os,Kr(vl,"data-cell-y",Ha(c)),Kr(os,Kr(vl,"data-cell-x",Ha(u)),Kr(fs,"hexagon",$s("div")))));return Gd(Kr(is,{a:"click",b:{$:28,a:{a:u,b:c}}},(f=Kr(vs,Kr(vs,d,Kr(fs,"cell",$s("div"))),Kr(fs,Kr(Tl,e,i),Kr(fs,"cell-wrapper",$s("div")))),e&&!i?Kr(Kl,{a:u,b:c},f):f)))}),Rd=Pn,jd=bs,Ad=e(function(u,c,i,o,f,r){return Qr(jd,"div",un([hl("row")]),Ca(Kr(Pf,v(function(r,n){var a={a:r,b:f},e=Kr(St,function(r){return an(r,a)},o),t=Kr(St,function(n){return Kr(St,function(r){return an(r,n)},c.b.ak)},n.X);return{a:"board-cell-"+Ha(r)+("-"+Ha(f)),b:x(Rd,xd,u.aD.bg,u.a.b.bG,u.a.b.bJ,r,f,e?i:"",n.aR,!t)}}),r)))}),Sd={$:57},Ed=$n("a"),Yd=v(function(r,n){return Kr(Pl,r,{$:0,a:n})}),Bd=$n("span"),_d=Gl,Ld=v(function(r,n){return{$:26,a:r,b:n}}),Od=function(r){return r.toUpperCase()},Hd=l(function(r,n,a){var e=r.a,t=r.b,u=un([cd,ud,id,ed,ad,td]);return Gd(Kr(vs,Kr(vs,Kr(ys,"Cancel",Kr(is,{a:"click",b:{$:29,a:0}},Kr(fs,"cancel-menu cancel",$s("li")))),Kr(Cs,Kr(Ee,function(r){return Kr(is,{a:"click",b:{$:18,a:Zr(lt,{$:3,a:r},a,0,un([{a:e,b:t}]))}},Kr(ys,ws(r),$s("li")))},u),Qr(Zl,"open",n,$s("ul")))),$s("div")))}),Id=Y,Jd=u(function(r,n,a,e,t,u,c,i){var o=r.a,f=r.b,b=Kr(Id,function(r){return r.a},Kr(Ee,function(r){return{a:ks(r.bP),b:r}},Kr(Ee,function(r){return Zr(lt,r,i,0,un([{a:o,b:f}]))},Kr(wa,{$:8,a:{$:1,a:1}},R(a?un([ht]):tn,R(e?tn:un([{$:4,a:1},{$:4,a:3},{$:4,a:8}]),R(t?tn:un([{$:7,a:0},{$:7,a:1},{$:7,a:2}]),R(u?tn:un([{$:0,a:4}]),c?tn:un([{$:2,a:0},{$:2,a:1}])))))))));return Gd(Kr(vs,Kr(vs,Kr(ys,"Cancel",Kr(is,{a:"click",b:{$:29,a:0}},Kr(fs,"cancel-menu cancel",$s("li")))),Kr(Cs,Kr(Ee,function(r){return Kr(is,{a:"click",b:{$:16,a:r.b}},Kr(ys,r.a,$s("li")))},b),Qr(Zl,"open",n,$s("ul")))),$s("div")))}),Md=l(function(r,n,a){var e=r.a,t=r.b,u=un(["a","b","c","d","e","f","1","2","3","4","5","6","7","8","9"]),c=Kr(Ee,function(r){return{a:r,b:Zr(lt,{$:9,a:r},a,0,un([{a:e,b:t}]))}},u);return Gd(Kr(vs,Kr(vs,Kr(ys,"Cancel",Kr(is,{a:"click",b:{$:29,a:0}},Kr(fs,"cancel-menu cancel",$s("li")))),Kr(Cs,Kr(Ee,function(r){return Kr(is,{a:"click",b:{$:17,a:r.b}},Kr(ys,r.a,$s("li")))},c),Qr(Zl,"open",n,$s("ul")))),$s("div")))}),Wd=a(function(r,n,a,e,t){var u=r.a,c=r.b;return Kr(is,{a:"click",b:{$:19,a:Qr(Cc,{$:2,a:{$:0,a:rn(hu,a,0,e,t,!1)}},u,c)}},Kr(ys,n,$s("li")))}),Ud=l(function(e,r,t){return Qr(Ma,La,tn,Kr(Ee,function(r){var n=r.a,a=r.b;return Kr(wa,rn(Wd,e,n,a,1,t),a.$?tn:un([rn(Wd,e,"Elite "+n,a,2,t)]))},Kr(Mu,function(n){return Kr(yu,function(r){return{a:js(n),b:r}},Ke(n))},Xa(As(Kr(Ee,function(r){return r.a},Kr(ec,function(r){return 0<hi(r.b)},Ga(r))))))))}),Fd=l(function(r,n,a){return Gd(Kr(vs,Kr(vs,Kr(ys,"Cancel",Kr(is,{a:"click",b:{$:29,a:0}},Kr(fs,"cancel-menu cancel",$s("li")))),Kr(Cs,Qr(Ud,r,a,!1),Qr(Zl,"open",n,$s("ul")))),$s("div")))}),Nd=v(function(r,n){return n?vs(r):function(r){return r}}),zd=e(function(r,n,a,e,t,u){var c=r.a,i=r.b;return Gd(Kr(vs,Kr(vs,Kr(ys,"Cancel",Kr(is,{a:"click",b:{$:29,a:0}},Kr(fs,"cancel-menu cancel",$s("li")))),Kr(Cs,Qr(Ud,{a:c,b:i},u,!0),Kr(vs,Kr(is,{a:"click",b:{$:19,a:Qr(Cc,{$:2,a:{$:1,a:Kr(Tc,e,Xe(t))}},c,i)}},Kr(ys,"Summons",$s("li"))),Qr(Nd,Kr(is,{a:"click",b:{$:19,a:Qr(Cc,{$:2,a:{$:1,a:Gc}},c,i)}},Kr(ys,"Bear",$s("li"))),a,Qr(Zl,"open",n,$s("ul")))))),$s("div")))}),Xd=yn,qd=kn,Vd=$n("li"),Kd=$n("nav"),Qd=Dl,Zd=$n("ul"),rv=c(function(e,t,r,n,u,a,c,i,o){var f,b=r.a,s=r.b,l=n.a,d=n.b,v=Qr(Ma,La,tn,Kr(Mu,function(r){var n=r.bP;return 1!==n.$?ya:ma(n.b)},Kr(ec,function(r){return Kr(St,function(r){return an(r,{a:b,b:s})},r.aa)},c))),$=pi(Kr(ec,function(r){return an(r.cn,b)&&an(r.co,s)},a)),h=(f=Ti(Kr(Ee,function(r){return r.ar},c))).$?1:f.a+1,p=pi(Xa(As(Kr(Mu,function(r){var n=r.bP;return 2!==n.$||1!==n.a.$||n.a.a.$?ya:ma(n.a.a.a)},a)))),g=p.$?1:p.a+1,m=Kr(tc,5,i),y=Kr(ec,function(r){return Kr(St,function(r){return an(r,{a:b,b:s})},r.aa)},Kr(ec,function(r){switch(r.bP.$){case 6:case 1:return!1;default:return!0}},c)),w=Kr(St,function(r){return!r.bP.$},y),k=Kr(St,function(r){return 2===r.bP.$},y),P=Kr(St,function(r){return 4===r.bP.$},y),C=Kr(St,function(r){return 7===r.bP.$},y),D=!Kr(tc,0,i)||Kr(St,function(r){return an(r.bP,{$:2,a:{$:1,a:Gc}})},a),G=1!==t?R(0<da(v)?un([Kr(Vd,un([hl("open-door"),Ss(Kr(Ld,v,{a:b,b:s}))]),un([_d("Open Door")]))]):tn,R(Kr(Ee,function(r){return Kr(Vd,un([hl("rotate-overlay"),Ss({$:20,a:r.ar})]),un([_d("Rotate "+ks(r.bP))]))},Kr(ec,function(r){switch(r.bP.$){case 3:case 9:return!1;default:return!0}},y)),R(un([Kr(Vd,un([hl("place-overlay has-sub-menu"),Ss({$:29,a:7})]),un([_d("Place Piece"),x(Rd,Jd,{a:b,b:s},7===t,m,P,C,w,k,h)])),Kr(Vd,un([hl("place-token has-sub-menu"),Ss({$:29,a:8})]),un([_d("Place Token"),Zr(Xd,Md,{a:b,b:s},8===t,h)])),Kr(Vd,un([hl("place-highlight has-sub-menu"),Ss({$:29,a:9})]),un([_d("Highlight"),Zr(Xd,Hd,{a:b,b:s},9===t,h)]))]),R(function(){if($.$)return un([Kr(Vd,un([hl("summon-piece has-sub-menu"),Ss({$:29,a:6})]),un([_d("Summon"),nn(qd,zd,{a:b,b:s},6===t,!D,g,u,o)])),Kr(Vd,un([hl("spawn-piece has-sub-menu"),Ss({$:29,a:5})]),un([_d("Spawn"),Zr(Xd,Fd,{a:b,b:s},5===t,o)]))]);var r,a=$.a,n=js(function(){var r=a.bP;switch(r.$){case 1:return Kr(Ft,"",Ii(r.a));case 2:if(r.a.$){var n=r.a.a;return n.$?"Bear":"Summons "+Ha(n.a)}return Kr(Ft,"",gi(r.a.a.n));default:return""}}());return Kr(wa,Kr(Vd,un([hl("remove-piece"),Ss({$:22,a:a})]),un([_d("Remove "+n)])),61!==(r={a:e,b:a.bP}).a||2!==r.b.$||r.b.a.$?tn:un([Kr(Vd,un([hl("phase-piece"),Ss({$:23,a:a})]),un([_d("Phase Shift "+n)]))]))}(),Kr(Ee,function(r){return Kr(Vd,un([hl("remove-overlay"),Ss({$:21,a:r})]),un([_d("Remove "+ks(r.bP))]))},y))))):tn,T=1!==t&&0<da(G);return Kr(pl,un([hl("context-menu"),hl(T?"open":""),hl(t?"sub-menu-open":""),Kr(Qd,"top",Ha(d)+"px"),Kr(Qd,"left",Ha(l)+"px")]),un([Kr(Kd,tn,un([Kr(Zd,tn,T?R(G,un([Kr(Vd,un([hl("cancel-menu cancel"),Ss({$:29,a:1})]),un([_d("Cancel")]))])):tn)]))]))}),nv=v(function(r,n){var a=r.b;return{$:1,a:Kr(ge,function(r){return{a:r,b:!0}},Kr(ge,n,Kr(lc,un(["target",r.a]),a)))}}),av=v(function(r,n){return Kr(Gn,r,Xo(n))}),ev=av("checked"),tv=av("required"),uv=$l("value"),cv=v(function(r,n){return{$:31,a:r,b:n}}),iv=l(function(r,n,a){return Kr(vs,Kr(vs,Kr(Bs,{a:"click",b:Kr(cv,n,!a)},Kr(os,ev(a),Kr(os,Kr(vl,"value","1"),Kr(os,Kr(vl,"type","checkbox"),Kr(os,Kr(vl,"id","characterChoice_"+r),$s("input")))))),Kr(ys,r,Qr(Zl,"selected",a,Kr(fs,r,Kr(os,Kr(vl,"for","characterChoice_"+r),$s("label")))))),Kr(fs,"input-wrapper",$s("div")))}),ov=v(function(r,n){return n?Es(r):function(r){return r}}),fv={$:3},bv=v(function(r,n){var a=r.b;return{$:0,a:Kr(ge,n,Kr(lc,un(["target",r.a]),a))}}),sv=function(r){return r.toLocaleUpperCase()},lv=v(function(r,n){if(-2===n.$)return Bt;var a=n.b,e=n.d,t=n.e;return rn(Lt,n.a,a,Kr(r,a,n.c),Kr(lv,r,e),Kr(lv,r,t))}),dv=av("selected"),vv=l(function(u,c,r){var n=function(){if(u.$||1!==u.a)return"input-wrapper";return"select-wrapper"}(),a=function(){if(u.$)return Kr(vs,Kr(ys,c,$s("span")),Kr(vs,Kr(ys,"Choose file",Kr(os,Kr(vl,"id","scenarioIdInput"),$s("button"))),Kr(Bs,{a:"click",b:fv},Kr(fs,"file-choose",Kr(fs,"button-wrapper",$s("div"))))));var r=u.a,e=u.b,n=Di(r),a=n.a,t=n.b;return r?Kr(Cs,Kr(Ee,function(r){return r.b},Kr(Id,function(r){return r.a},Ci(Kr(lv,v(function(r,n){var a=n.a;return{a:a,b:Kr(vs,Kr(ys," - "+n.b,$s("span")),Kr(vs,Us(r),Kr(os,dv(an(e,a)),Kr(os,Kr(vl,"value",Ha(a)),$s("option")))))}}),af)))),Kr(os,Kr(vl,"id","scenarioTypeInput"),Kr(Ws,Ms,Kr(Bs,{a:"click",b:ld},$s("select"))))):Kr(Hs,Ms,Kr(os,Kr(vl,"value",Ha(e)),Kr(os,Kr(vl,"max",Ha(t)),Kr(os,Kr(vl,"min",Ha(a)),Kr(os,Kr(vl,"type","number"),Kr(os,Kr(vl,"id","scenarioIdInput"),Kr(Bs,{a:"click",b:ld},$s("input"))))))))}();return Kr(Cs,R(un([Kr(ys,"Scenario",Kr(os,Kr(vl,"for","scenarioIdInput"),$s("label"))),a]),1===r.$?tn:un([Kr(ys,r.a,Kr(fs,"error-label",$s("div")))])),Qr(Zl,"error",!an(r,ya),Kr(fs,n,$s("div"))))}),$v=Kr(lc,un(["target","value"]),mt),hv=$n("footer"),pv=$n("iframe"),gv=$l("target"),mv=$l("title"),yv=v(function(a,r){if(r.b){var n=r.b;return Kr(wa,r.a,Qr(Se,v(function(r,n){return Kr(wa,a,Kr(wa,r,n))}),tn,n))}return tn}),wv=v(function(r,n){return Kr(vs,Kr(Cs,Kr(Ee,function(r){return Kr(ys,r,Kr(fs,"key",$s("span")))},r),Kr(fs,"shortcut",$s("span"))),Kr(os,Kr(vl,"aria-hidden","true"),Kr(os,Kr(vl,"aria-keyshortcuts",vt(Qr(bu,"⇧","shift",Qr(Se,La,"",Kr(yv,"+",r))))),n)))}),kv=e(function(r,n,a,e,t,u){return Gd(Kr(vs,Kr(vs,Kr(vs,Kr(ys,"Donate",Kr(os,gv("_new"),Kr(os,zs("https://github.com/sponsors/PurpleKingdomGames?o=esb"),$s("a")))),Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li")))),Kr(vs,Kr(vs,Kr(ys,"Scenario Creator",Kr(os,gv("creator_window"),Kr(os,zs("/Creator"),$s("a")))),Kr(fs,"section-end",Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li"))))),Kr(vs,Kr(ys,"Reset Tutorial",Kr(fs,"section-end",Kr(Es,{a:"click",b:{$:39,a:0}},Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li")))))),Qr(Nd,(o=(i={a:e,b:t}).a.$||i.b.$?{a:"",b:""}:{a:i.a.a,b:i.b.a},f=o.b,Kr(vs,Kr(ys,o.a,Kr(os,gv("_new"),Kr(os,zs(Qr(bu,"{scenarioId}",Ha(a),f)),$s("a")))),Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li"))))),!(c={a:e,b:t}).a.$&&!c.b.$,Kr(vs,Kr(wv,un(["⇧","s"]),Kr(ys,"Settings",Kr(fs,"section-end",Kr(Es,{a:"click",b:{$:25,a:2}},Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li"))))))),Qr(Nd,Kr(wv,un(["⇧","p"]),Kr(ys,"Change Players",Kr(Es,{a:"click",b:{$:25,a:3}},Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li")))))),!n,Kr(vs,Kr(wv,un(["⇧","r"]),Kr(ys,"Reload Scenario",Kr(Es,{a:"click",b:go},Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li")))))),Qr(Nd,Kr(wv,un(["⇧","c"]),Kr(ys,"Change Scenario",Kr(Es,{a:"click",b:{$:25,a:1}},Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li")))))),!r,Kr(vs,Kr(wv,un(["ctrl","z"]),Kr(ys,"Undo",Kr(fs,"section-end",Kr(Es,{a:"click",b:wo},Kr(os,Fs(0),Kr(os,Kr(vl,"role","menuitem"),$s("li"))))))),Kr(os,Kr(vl,"role","menu"),$s("ul"))))))))))),Kr(os,Kr(vl,"aria-hidden",u?"false":"true"),$s("nav"))));var c,i,o,f}),Pv=l(function(r,n,a){return{a:"tutorial",b:Gd(Kr(vs,Kr(vs,Kr(Bs,{a:"click",b:a},Kr(ys,"Got it!",$s("button"))),Kr(fs,"button-wrapper",Kr(fs,"footer",$s("div")))),Kr(vs,Kr(ys,r,Kr(fs,"body",$s("div"))),Kr(fs,"step-"+Ha(n),Kr(fs,"tutorial",$s("div"))))))}}),Cv=l(function(n,a,e){return Qr(jd,"div",un([hl("roomCode")]),function(){if(1===n.$)return tn;var r=n.a;return a?R(un([{a:"roomCodeLabel",b:Kr(Bd,tn,un([_d("Room Code")]))},{a:"roomCodeText",b:Kr(Bd,tn,un([_d(r)]))}]),e?un([Qr(Pv,"This is your room code. You can change this in the settings in order to join other people's games. Or you can give this code to your friends so that they can join your game.",1,{$:39,a:2})]):tn):tn}())}),Dv=$n("header"),Gv=l(function(a,r,n){return Kr(Dv,un([Kr(vl,"aria-label","Scenario")]),""!==r?un([function(){if(n){var r=pi(Kr(Ee,function(r){return Gd(Us(r))},sa(Kr(xo,v(function(r,n){return an(n.a,a)}),af))));return r.$?Kr(Bd,un([hl("number")]),tn):r.a}return Kr(Bd,un([hl("number")]),a?un([_d(Ha(a))]):tn)}(),Kr(Bd,un([hl("title")]),un([_d(r)]))]):tn)}),Tv=$n("img"),xv=a(function(r,e,n,a,t){var u=67*t,c=76*a+(1==(1&t)?38:0);return Kr(pl,tn,un([Kr(pl,un([hl("mapTile"),hl("rotate-"+Ha(n)),hl(r?"visible":"hidden"),Kr(Qd,"top",Ha(u)+"px"),Kr(Qd,"left",Ha(c)+"px")]),un([Kr(Tv,un([Xs("/img/map-tiles/"+e+".png"),hl("ref-"+e),rd("Map tile "+e),Kr(vl,"aria-hidden",r?"false":"true")]),tn)])),Kr(pl,un([hl("mapTile outline"),hl("rotate-"+Ha(n)),hl(r?"hidden":"visible"),Kr(Qd,"top",Ha(u)+"px"),Kr(Qd,"left",Ha(c)+"px"),Kr(vl,"aria-hidden",r?"true":"false")]),function(){var r=Ut(e);if(1===r.$)return tn;if(62===r.a){return tn}var n=r.a,a=function(){switch(n){case 42:case 46:return"ja";case 43:case 44:case 45:case 47:return"jb";default:return Kr(Ge,1,e)}}();return un([Kr(Tv,un([Xs("/img/map-tiles/"+a+"-outline.png"),hl("ref-"+e),rd("The outline of map tile "+e)]),tn)])}())]))}),Rv=wn,jv=a(function(t,r,u,c,i){return Qr(jd,"div",un([hl("mapTiles")]),Kr(Ee,function(r){var n=Kr(Ft,"",Oi(r.bP)),a=Kr(tc,r.bP,t),e=an(n,u)?{a:c,b:i}:r.dn;return{a:n,b:$(Rv,xv,a,n,r.dR,e.a,e.b)}},Kr(df,function(r){return Kr(Ft,"",Oi(r.bP))},r)))}),Av=$l("id"),Sv=mn,Ev=$n("main"),Yv=Kr(gd,"touchcancel",dd),Bv=rt({cW:function(r){var n,C,t=r.a,a=r.b,e=r.c,u=function(){if(a.$)return ac;var r=Kr(uc,Ec,a.a);return r.$?ac:r.a}(),c=rc,i=function(){if(t.$)return Vu;var r=function(r){var n=Kr(uc,Sc,r);if(n.$)return ja(n.a);var a=n.a;return Ya({a:a.aJ,b:a.aD})}(t.a);if(r.$)return Vu;var n,a=r.a,e=a.b;return{a:a.a,b:en(e,{aC:(n=u.aC).$?e.aC:ma(n.a),bY:u.cY.$?e.bY:ya})}}(),o=i.a,f=i.b,b=function(){var r=u.cX;if(1===r.$)return!da(o.ay);var n=r.a;return 0<da(n)&&!an(n,o.ay)||!da(o.ay)}(),s=en(o,{ay:function(){var r=u.cX;if(r.$)return o.ay;var n=r.a;return 0<da(n)?n:o.ay}(),bY:u.cY.$?o.bY:"",dU:0}),l=(n=u.cZ).$?s.b2:Kr(at,0,n.a),d=(C=en(c,{b:s}),function(P){return function(k){return function(w){return function(y){return function(m){return function(g){return function(p){return function(h){return function($){return function(v){return function(d){return function(l){return function(s){return function(b){return function(f){return function(o){return function(i){return function(c){return function(u){return function(t){return function(e){return function(a){return function(n){return function(r){return{aD:P,ab:v,aE:r,aF:n,H:a,j:m,a6:$,x:k,R:g,B:y,S:w,I:p,al:h,t:b,a:C,y:u,c0:o,c1:i,c2:f,V:l,O:t,bZ:c,dD:s,aA:e,A:d}}}}}}}}}}}}}}}}}}}}}}}}}(f)({$:1,a:s.b2})(ya)(ya)(ya)(ya)(ya)(Eu(s))(ya)(1)(tn)(!1)(!1)(!1)(u.c2)(u.c0)(u.c1)(u.cY)(tn)(!0)(ya)(1)({a:0,b:0})({a:0,b:0}));if(l.$){var v=l.a,$=Kr(Ub,rn(tt,Su(e),l,b?ya:ma(s),!1,Kr(Fu,Uu,v)),d);return{a:$.a,b:ut(un([it,$.b]))}}return{a:d,b:ut(un([it,Kr(io,l,Zr(et,Su(e),l,b?ya:ma(s),!1))]))}},dH:function(){return Fb(un([Kr(Xb,function(r){return{$:45,a:r}},ll),Nb(ro),rl(Kr(ge,no,zb)),nl(Kr(ge,ao,zb)),al(eo),es(to),qb(Qi),Vb(Zi)]))},dT:Ub,dW:function(c){var r,n,a,e,t,u,i=c.aD;return Kr(pl,un([hl("content"+(i.a0?" board-only":"")),Av("content"),Yv(function(){return dl}),xs({$:29,a:1})]),R(un([Vs(c),Kr(pl,un([hl("main")]),un([Qr(jd,"div",un([hl("board-wrapper"),Av("board")]),R(un([{a:"mapBg",b:Kr(pl,un([hl("map-bg")]),tn)},{a:"mapTiles",b:$(Rv,jv,c.a.b.ak,c.a.b_,"",0,0)},{a:"mainBoard",b:Kr(Ev,un([hl("board")]),(t=(e=c.a6).$?"":Kr(Oa,0,mi(un([{a:"ref",b:mi(us((r=e.a).bP))},{a:"coords",b:(a=r.a4).$?ct:mi(ts(a.a))},{a:"target",b:(n=r.cg).$?ct:mi(ts(n.a))}]))),u=function(){var r=c.a6;if(r.$)return tn;var a=r.a,n=a.bP;if(n.$)return R((t=a.a4).$?tn:un([t.a]),(e=a.cg).$?tn:un([e.a]));var e,t,u=a.cg.$?tn:n.a.aa;return R(function(){var r=a.a4;if(r.$)return tn;var n=r.a;return Qr(Ma,La,tn,Kr(ec,function(r){return Kr(St,function(r){return an(r,n)},r)},Kr(Ee,function(r){return r.aa},c.a.b.bG)))}(),u)}(),Ca(Kr(Pf,Zr(Ad,c,c.a,t,u),c.a.D))))}]),an(c.aD.cl,0)?un([Qr(Pv,"This is your board. You can move pieces by dragging and dropping them in place. You can rotate, remove or add pieces by clicking on any space.",c.aD.cl,{$:39,a:1})]):tn)),Kr(Sv,Rs,c.ab),x(rv,c.a.b2.ar,c.H,c.aF,c.aE,c.aD.ce,c.a.b.bJ,c.a.b.bG,c.a.b.ay,c.a.b.v)])),Kr(Sv,qs,"1.14.0")]),R(i.a_?un([Ns(c)]):tn,function(){var r=c.aA;if(1===r.$)return tn;var n=r.a,a=n.a,e=n.b,t=gl(a.aq.co+a.aq.cT/4)+"px",u=gl(a.aq.cn+a.aq.dY)+"px";return un([Kr(pl,un([hl("tooltip-wrapper"),Kr(vl,"aria-hidden","true"),Kr(Qd,"left",u),Kr(Qd,"top",t)]),un([Kr(pl,un([hl("tooltip-text")]),un([_d(e)]))]))])}())))}});Ks={Main:{init:Bv(Kr(pe,function(a){return Kr(pe,function(n){return Kr(pe,function(r){return ye({a:a,b:n,c:r})},Kr(nt,2,xt))},Kr(nt,1,du(un([bc(ya),Kr(ge,ma,dc)]))))},Kr(nt,0,du(un([bc(ya),Kr(ge,ma,dc)])))))(0)}},r.Elm?function r(n,a){for(var e in a)e in n?"init"==e?k(6):r(n[e],a[e]):n[e]=a[e]}(r.Elm,Ks):r.Elm=Ks}(this);